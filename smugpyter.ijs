NB. JOD dictionary dump: 21 Jun 2018 20:48:13
NB. Generated with JOD version; 0.9.996 - dev; 18; 2 Jun 2018 12:14:04
NB. J version: j807/j64/windows/beta-e/commercial/www.jsoftware.com/2018-05-25T12:07:57
NB.
NB. Names & DidNums on current path
NB. +---------+---------------------------------------+
NB. |smugpyter|222940491384479426302418047456064767038|
NB. +---------+---------------------------------------+

9!:41 [ 1 NB.{*JOD*}
cocurrent 'base' NB.{*JOD*}
sonl_z_=: 'sonl__MK__JODobj i.4' NB.{*JOD*}
showpass_z_=:] [ 1!:2&2 NB.{*JOD*}
SOLOCALE_z_=:":>SO__JODobj NB.{*JOD*}
soput_z_=:SOLOCALE&put NB.{*JOD*}
soclear_z_=: '0 0 $ clearso__MK__JODobj 0' NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}


AlbumXref=:,:<;._1 ' albumid mirpathid albumsize albumname'

CSS_Colors=:141 3$'ColorName';'HexValue';'RGBValue';'aliceblue';'#F0F8FF';240 248 255;'antiquewhite';'#FAEBD7';250 235 215;'aqua';'#00FFFF';0 255 255;'aquamarine';'#7FFFD4';127 255 212;'azure';'#F0FFFF';240 255 255;'beige';'#F5F5DC';245 245 220;'bisque';'#FFE4C4';255 228 196;'black';'#000000';0 0 0;'blanchedalmond';'#FFEBCD';255 235 205;'blue';'#0000FF';0 0 255;'blueviolet';'#8A2BE2';138 43 226;'brown';'#A52A2A';165 42 42;'burlywood';'#DEB887';222 184 135;'cadetblue';'#5F9EA0';95 158 160;'chartreuse';'#7FFF00';127 255 0;'chocolate';'#D2691E';210 105 30;'coral';'#FF7F50';255 127 80;'cornflowerblue';'#6495ED';100 149 237;'cornsilk';'#FFF8DC';255 248 220;'crimson';'#DC143C';220 20 60;'cyan';'#00FFFF';0 255 255;'darkblue';'#00008B';0 0 139;'darkcyan';'#008B8B';0 139 139;'darkgoldenrod';'#B8860B';184 134 11;'darkgray';'#A9A9A9';169 169 169;'darkgreen';'#006400';0 100 0;'darkkhaki';'#BDB76B';189 183 107;'darkmagenta';'#8B008B';139 0 139;'darkolivegreen';'#556B2F';85 107 47;'darkorange';'#FF8C00';255 140 0;'darkorchid';'#9932CC';153 50 204;'darkred';'#8B0000';139 0 0;'darksalmon';'#E9967A';233 150 122;'darkseagreen';'#8FBC8F';143 188 143;'darkslateblue';'#483D8B';72 61 139;'darkslategray';'#2F4F4F';47 79 79;'darkturquoise';'#00CED1';0 206 209;'darkviolet';'#9400D3';148 0 211;'deeppink';'#FF1493';255 20 147;'deepskyblue';'#00BFFF';0 191 255;'dimgray';'#696969';105 105 105;'dodgerblue';'#1E90FF';30 144 255;'firebrick';'#B22222';178 34 34;'floralwhite';'#FFFAF0';255 250 240;'forestgreen';'#228B22';34 139 34;'fuchsia';'#FF00FF';255 0 255;'gainsboro';'#DCDCDC';220 220 220;'ghostwhite';'#F8F8FF';248 248 255;'gold';'#FFD700';255 215 0;'goldenrod';'#DAA520';218 165 32;'gray';'#808080';128 128 128;'green';'#008000';0 128 0;'greenyellow';'#ADFF2F';173 255 47;'honeydew';'#F0FFF0';240 255 240;'hotpink';'#FF69B4';255 105 180;'indianred';'#CD5C5C';205 92 92;'indigo';'#4B0082';75 0 130;'ivory';'#FFFFF0';255 255 240;'khaki';'#F0E68C';240 230 140;'lavender';'#E6E6FA';230 230 250;'lavenderblush';'#FFF0F5';255 240 245;'lawngreen';'#7CFC00';124 252 0;'lemonchiffon';'#FFFACD';255 250 205;'lightblue';'#ADD8E6';173 216 230;'lightcoral';'#F08080';240 128 128;'lightcyan';'#E0FFFF';224 255 255;'lightgoldenrodyellow';'#FAFAD2';250 250 210;'lightgreen';'#90EE90';144 238 144;'lightgrey';'#D3D3D3';211 211 211;'lightpink';'#FFB6C1';255 182 193;'lightsalmon';'#FFA07A';255 160 122;'lightseagreen';'#20B2AA';32 178 170;'lightskyblue';'#87CEFA';135 206 250;'lightslategray';'#778899';119 136 153;'lightsteelblue';'#B0C4DE';176 196 222;'lightyellow';'#FFFFE0';255 255 224;'lime';'#00FF00';0 255 0;'limegreen';'#32CD32';50 205 50;'linen';'#FAF0E6';250 240 230;'magenta';'#FF00FF';255 0 255;'maroon';'#800000';128 0 0;'mediumaquamarine';'#66CDAA';102 205 170;'mediumblue';'#0000CD';0 0 205;'mediumorchid';'#BA55D3';186 85 211;'mediumpurple';'#9370DB';147 112 219;'mediumseagreen';'#3CB371';60 179 113;'mediumslateblue';'#7B68EE';123 104 238;'mediumspringgreen';'#00FA9A';0 250 154;'mediumturquoise';'#48D1CC';72 209 204;'mediumvioletred';'#C71585';199 21 133;'midnightblue';'#191970';25 25 112;'mintcream';'#F5FFFA';245 255 250;'mistyrose';'#FFE4E1';255 228 225;'moccasin';'#FFE4B5';255 228 181;'navajowhite';'#FFDEAD';255 222 173;'navy';'#000080';0 0 128;'oldlace';'#FDF5E6';253 245 230;'olive';'#808000';128 128 0;'olivedrab';'#6B8E23';107 142 35;'orange';'#FFA500';255 165 0;'orangered';'#FF4500';255 69 0;'orchid';'#DA70D6';218 112 214;'palegoldenrod';'#EEE8AA';238 232 170;'palegreen';'#98FB98';152 251 152;'paleturquoise';'#AFEEEE';175 238 238;'palevioletred';'#DB7093';219 112 147;'papayawhip';'#FFEFD5';255 239 213;'peachpuff';'#FFDAB9';255 218 185;'peru';'#CD853F';205 133 63;'pink';'#FFC0CB';255 192 203;'plum';'#DDA0DD';221 160 221;'powderblue';'#B0E0E6';176 224 230;'purple';'#800080';128 0 128;'red';'#FF0000';255 0 0;'rosybrown';'#BC8F8F';188 143 143;'royalblue';'#4169E1';65 105 225;'saddlebrown';'#8B4513';139 69 19;'salmon';'#FA8072';250 128 114;'sandybrown';'#F4A460';244 164 96;'seagreen';'#2E8B57';46 139 87;'seashell';'#FFF5EE';255 245 238;'sienna';'#A0522D';160 82 45;'silver';'#C0C0C0';192 192 192;'skyblue';'#87CEEB';135 206 235;'slateblue';'#6A5ACD';106 90 205;'slategray';'#708090';112 128 144;'snow';'#FFFAFA';255 250 250;'springgreen';'#00FF7F';0 255 127;'steelblue';'#4682B4';70 130 180;'tan';'#D2B48C';210 180 140;'teal';'#008080';0 128 128;'thistle';'#D8BFD8';216 191 216;'tomato';'#FF6347';255 99 71;'turquoise';'#40E0D0';64 224 208;'violet';'#EE82EE';238 130 238;'wheat';'#F5DEB3';245 222 179;'white';'#FFFFFF';255 255 255;'whitesmoke';'#F5F5F5';245 245 245;'yellow';'#FFFF00';255 255 0;'yellowgreen';'#9ACD32';154 205 50

CreateMirror_sql=:'sql code reference - see (MirrorXref) group header'

DominantColorPfx=:'0_'

ExtXref=:13 3$<;._1 '|ext|extlong|extdesc|apf|afphoto|affinity photo layer file|psd||photoshop layer file|jpg||jpeg file|tif||tagged image format file|png||portable network graphic file|pdf||portable document format file|gif||graphic image file|nef||nikon raw file|eps||encapsulated postscript|ps||postscript|jp2||jpeg 2000 file|dng||digital negative'

IFACEWORDSMirrorXref=:,<'LoadMirrorXrefDb'

MirrorXref=:,:<;._1 ' orgvolid orgpathid orgext orgimagehash mirvolid mirpathid mirext albumid mirimageid orgfile mirfile'

NOPIXELSKEY=:'0z0'

NORATIOKEY=:'0z1'

PathXref=:,:<;._1 ' pathid pathdesc pathtype path'

ROOTWORDSMirrorXref=:<;._1 ' CreateMirror_sql IFACEWORDSMirrorXref LoadMirrorXrefDb ROOTWORDSMirrorXref smoutput'

SMUGAREAROUND=:0.5

SMUGASPECTROUND=:0.0050000000000000001

SMUGPRINTDPI=:360

SMUGPRINTSIZES=:<;._1 ' 3.5x5 4x5 4x5.3 4x6 4x8 5x5 5x6.7 5x7 5x10 5x30 7x10 8x8 8x10 8x10.6 8x12 8x16 8x20 8.5x11 9x12 10x10 10x13 10x15 10x16 10x20 10x30 11x14 11x16 11x28 12x12 12x18 12x20 12x24 12x30 16x20 16x24 18x24 20x20 20x24 20x30'

SMUGPYTERSIZES=:<;._1 ' 3.5x5 4x5 4x5.3 4x6 4x8 5x5 5x6.7 5x7 5x10 5x30 7x10 8x8 8x10 8x10.6 8x12 8x16 8x20 8.5x11 9x12 10x10 10x13 10x15 10x16 10x20 10x30 11x14 11x16 11x28 12x12 12x18 12x20 12x24 12x30 16x20 16x24 18x24 20x20 20x24 20x30'

SVG_Colors=:148 2$'ColorName';'RGBValue';'aliceblue';240 248 255;'antiquewhite';250 235 215;'aqua';0 255 255;'aquamarine';127 255 212;'azure';240 255 255;'beige';245 245 220;'bisque';255 228 196;'black';0 0 0;'blanchedalmond';255 235 205;'blue';0 0 255;'blueviolet';138 43 226;'brown';165 42 42;'burlywood';222 184 135;'cadetblue';95 158 160;'chartreuse';127 255 0;'chocolate';210 105 30;'coral';255 127 80;'cornflowerblue';100 149 237;'cornsilk';255 248 220;'crimson';220 20 60;'cyan';0 255 255;'darkblue';0 0 139;'darkcyan';0 139 139;'darkgoldenrod';184 134 11;'darkgray';169 169 169;'darkgreen';0 100 0;'darkgrey';169 169 169;'darkkhaki';189 183 107;'darkmagenta';139 0 139;'darkolivegreen';85 107 47;'darkorange';255 140 0;'darkorchid';153 50 204;'darkred';139 0 0;'darksalmon';233 150 122;'darkseagreen';143 188 143;'darkslateblue';72 61 139;'darkslategray';47 79 79;'darkslategrey';47 79 79;'darkturquoise';0 206 209;'darkviolet';148 0 211;'deeppink';255 20 147;'deepskyblue';0 191 255;'dimgray';105 105 105;'dimgrey';105 105 105;'dodgerblue';30 144 255;'firebrick';178 34 34;'floralwhite';255 250 240;'forestgreen';34 139 34;'fuchsia';255 0 255;'gainsboro';220 220 220;'ghostwhite';248 248 255;'gold';255 215 0;'goldenrod';218 165 32;'gray';128 128 128;'grey';128 128 128;'green';0 128 0;'greenyellow';173 255 47;'honeydew';240 255 240;'hotpink';255 105 180;'indianred';205 92 92;'indigo';75 0 130;'ivory';255 255 240;'khaki';240 230 140;'lavender';230 230 250;'lavenderblush';255 240 245;'lawngreen';124 252 0;'lemonchiffon';255 250 205;'lightblue';173 216 230;'lightcoral';240 128 128;'lightcyan';224 255 255;'lightgoldenrodyellow';250 250 210;'lightgray';211 211 211;'lightgreen';144 238 144;'lightgrey';211 211 211;'lightpink';255 182 193;'lightsalmon';255 160 122;'lightseagreen';32 178 170;'lightskyblue';135 206 250;'lightslategray';119 136 153;'lightslategrey';119 136 153;'lightsteelblue';176 196 222;'lightyellow';255 255 224;'lime';0 255 0;'limegreen';50 205 50;'linen';250 240 230;'magenta';255 0 255;'maroon';128 0 0;'mediumaquamarine';102 205 170;'mediumblue';0 0 205;'mediumorchid';186 85 211;'mediumpurple';147 112 219;'mediumseagreen';60 179 113;'mediumslateblue';123 104 238;'mediumspringgreen';0 250 154;'mediumturquoise';72 209 204;'mediumvioletred';199 21 133;'midnightblue';25 25 112;'mintcream';245 255 250;'mistyrose';255 228 225;'moccasin';255 228 181;'navajowhite';255 222 173;'navy';0 0 128;'oldlace';253 245 230;'olive';128 128 0;'olivedrab';107 142 35;'orange';255 165 0;'orangered';255 69 0;'orchid';218 112 214;'palegoldenrod';238 232 170;'palegreen';152 251 152;'paleturquoise';175 238 238;'palevioletred';219 112 147;'papayawhip';255 239 213;'peachpuff';255 218 185;'peru';205 133 63;'pink';255 192 203;'plum';221 160 221;'powderblue';176 224 230;'purple';128 0 128;'red';255 0 0;'rosybrown';188 143 143;'royalblue';65 105 225;'saddlebrown';139 69 19;'salmon';250 128 114;'sandybrown';244 164 96;'seagreen';46 139 87;'seashell';255 245 238;'sienna';160 82 45;'silver';192 192 192;'skyblue';135 206 235;'slateblue';106 90 205;'slategray';112 128 144;'slategrey';112 128 144;'snow';255 250 250;'springgreen';0 255 127;'steelblue';70 130 180;'tan';210 180 140;'teal';0 128 128;'thistle';216 191 216;'tomato';255 99 71;'turquoise';64 224 208;'violet';238 130 238;'wheat';245 222 179;'white';255 255 255;'whitesmoke';245 245 245;'yellow';255 255 0;'yellowgreen';154 205 50

VolumeXref=:3 3$<;._1 '|volid|volume|voldesc|0|c:\|c drive on local machine|1|d:\|usb drive(s) (usually mounts on d)'

WEB_PyColors=:148 2$<;._1 ' ColorName HexValue aliceblue #f0f8ff antiquewhite #faebd7 aqua #00ffff aquamarine #7fffd4 azure #f0ffff beige #f5f5dc bisque #ffe4c4 black #000000 blanchedalmond #ffebcd blue #0000ff blueviolet #8a2be2 brown #a52a2a burlywood #deb887 cadetblue #5f9ea0 chartreuse #7fff00 chocolate #d2691e coral #ff7f50 cornflowerblue #6495ed cornsilk #fff8dc crimson #dc143c cyan #00ffff darkblue #00008b darkcyan #008b8b darkgoldenrod #b8860b darkgray #a9a9a9 darkgrey #a9a9a9 darkgreen #006400 darkkhaki #bdb76b darkmagenta #8b008b darkolivegreen #556b2f darkorange #ff8c00 darkorchid #9932cc darkred #8b0000 darksalmon #e9967a darkseagreen #8fbc8f darkslateblue #483d8b darkslategray #2f4f4f darkslategrey #2f4f4f darkturquoise #00ced1 darkviolet #9400d3 deeppink #ff1493 deepskyblue #00bfff dimgray #696969 dimgrey #696969 dodgerblue #1e90ff firebrick #b22222 floralwhite #fffaf0 forestgreen #228b22 fuchsia #ff00ff gainsboro #dcdcdc ghostwhite #f8f8ff gold #ffd700 goldenrod #daa520 gray #808080 grey #808080 green #008000 greenyellow #adff2f honeydew #f0fff0 hotpink #ff69b4 indianred #cd5c5c indigo #4b0082 ivory #fffff0 khaki #f0e68c lavender #e6e6fa lavenderblush #fff0f5 lawngreen #7cfc00 lemonchiffon #fffacd lightblue #add8e6 lightcoral #f08080 lightcyan #e0ffff lightgoldenrodyellow #fafad2 lightgray #d3d3d3 lightgrey #d3d3d3 lightgreen #90ee90 lightpink #ffb6c1 lightsalmon #ffa07a lightseagreen #20b2aa lightskyblue #87cefa lightslategray #778899 lightslategrey #778899 lightsteelblue #b0c4de lightyellow #ffffe0 lime #00ff00 limegreen #32cd32 linen #faf0e6 magenta #ff00ff maroon #800000 mediumaquamarine #66cdaa mediumblue #0000cd mediumorchid #ba55d3 mediumpurple #9370db mediumseagreen #3cb371 mediumslateblue #7b68ee mediumspringgreen #00fa9a mediumturquoise #48d1cc mediumvioletred #c71585 midnightblue #191970 mintcream #f5fffa mistyrose #ffe4e1 moccasin #ffe4b5 navajowhite #ffdead navy #000080 oldlace #fdf5e6 olive #808000 olivedrab #6b8e23 orange #ffa500 orangered #ff4500 orchid #da70d6 palegoldenrod #eee8aa palegreen #98fb98 paleturquoise #afeeee palevioletred #db7093 papayawhip #ffefd5 peachpuff #ffdab9 peru #cd853f pink #ffc0cb plum #dda0dd powderblue #b0e0e6 purple #800080 red #ff0000 rosybrown #bc8f8f royalblue #4169e1 saddlebrown #8b4513 salmon #fa8072 sandybrown #f4a460 seagreen #2e8b57 seashell #fff5ee sienna #a0522d silver #c0c0c0 skyblue #87ceeb slateblue #6a5acd slategray #708090 slategrey #708090 snow #fffafa springgreen #00ff7f steelblue #4682b4 tan #d2b48c teal #008080 thistle #d8bfd8 tomato #ff6347 turquoise #40e0d0 violet #ee82ee wheat #f5deb3 white #ffffff whitesmoke #f5f5f5 yellow #ffff00 yellowgreen #9acd32'

imageSchema_sql=:'create table image ( ImageKey text, AlbumKey text, FileName text, ArchivedMD5 text, ArchivedSize integer, Latitude float, Longitude float, Altitude integer, OriginalHeight integer, OriginalWidth integer, UploadDate date, LastUpdated date, Uri text, ThumbnailUrl text, Keywords text, Caption text) '

printsizekey_basictestdata=:16 3$<;._1 ' ImageKey OriginalHeight OriginalWidth 4wqd5Hr 3021 2014 K7JKbs8 2036 3122 nFRxBh2 2665 3731 xCdD7V8 2585 1736 sTXnpLm 2192 3289 VG2s4WG 3659 2613 kNRs3X8 1694 2543 Qjs2hr6 3848 2559 qbXqVgC 2633 3949 ZdzNXm3 1162 2506 vF4Bwpg 2531 3542 7WbqpMj 3211 2566 2cCVDMK 1846 2398 36kBgrv 2396 1991 2FzVqjP 1887 2398'

showpass soput ".'nl_',SOLOCALE,'_ i.4' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}
cocurrent SO__JODobj NB.{*JOD*}


CreateMirrorXrefDb=:3 : 0

NB.*CreateMirrorXrefDb v-- creates sqlite mirror cross reference database.
NB.
NB. monad:  blclTableNames = CreateMirrorXrefDb clPathDbFile
NB.
NB.   CreateMirrorXrefDb 'C:/SmugMirror/Documents/XrefDb/mirrorxref.db' 

NB. load 'data/sqlite'
NB. (*)=. sqlclose__db sqlcreate_psqlite_ sqlcmd__db sqltables__db

('database exists -> ',y) assert -.fexist y

NB. parse schema sql - assumes ordered create statements delimited by ';'
sql=. reb&.> <;._1 ';', (LF,' ') charsub CreateMirror_sql -. CR

NB. create new empty database
db=. sqlcreate_psqlite_ y

NB. create tables
for_create. sql do.
  create=. ;create
  ('unable to create table ->',create) assert 0 = sqlcmd__db create
end.

tabs=. sqltables__db ''
tabs [ sqlclose__db ''
)

LoadAlbum=:3 : 0

NB.*LoadAlbum v-- load mirror Album table.
NB.
NB. (Album) references (LocalPath) execute (LoadLocalPath) before
NB. this verb.
NB.
NB. monad:  iaRc =. LoadAlbum blclSmugDirTargetDb
NB.
NB.   sdr=. 'c:/smugmirror/mirror'  NB. smugmug mirror directory
NB.   trg=. 'c:/smugmirror/documents/xrefdb/mirror.db'  NB. smugmug mirror
NB.   LoadAlbum sdr;trg

NB. load 'data/sqlite'
NB. (*)=. sqlopen_psqlite_ sqldict__dt sqlinsert__dt sqlclose__dt 

'sdr trg'=. y

NB. j profile !(*)=. dirtree
NB. all mirror directory albums contain an (ainfo-*.txt) file
ai=. 0 {"1 dirtree (tslash2 sdr),'ainfo-*.txt'

NB. standarize path format
pf=. tolower@('/'&beforelaststr)@('/'&afterstr)&.> ai

NB. fetch local path table
dt=.sqlopen_psqlite_ trg
dat=. sqldict__dt 'LocalPath'

NB. match ainfo paths with local path table
(0 {"1 dat)=. 1 {"1 dat

NB. table columns !(*)=. LocalPath LocalPathID
LocalPath=. tolower&.> LocalPath
'LocalPath(s) not found' assert (#LocalPath) > >./px=. LocalPath i. pf
LocalPathID=. px { LocalPathID

NB. read all TAB delimited ainfo files
hd=. 0{readtd2 0{ai
dat=. ,@}.@readtd2&> ai
'path id directory ainfo file mismatch' assert (#dat) = #LocalPathID

NB. check columns - Name, Description -->> AlbumName, AlbumDescription
cx=. hd i. ;:'AlbumKey LastUpdated Name Description'
'missing (AlbumKey, Name, LastUpdated, Description) column(s)' assert (#hd) > >./cx

NB. match path ids to albums
dat=. <"1 |: 1 0 1 1 1 (#^:_1)"1 cx {"1 dat
dat=. (<LocalPathID) (1)} dat

NB. insert in Album table
cln=. ;:'AlbumKey LocalPathID LastUpdated AlbumName AlbumDescription'
rc=. sqlinsert__dt 'Album';cln;<dat
rc [ sqlclose__dt ''
)

LoadImageAlbumXr=:3 : 0

NB.*LoadImageAlbumXr v-- load ImageAlbumXr table.
NB.
NB. monad:  iaRc =. LoadImageAlbumXr (clDb ;< btclDat)

'trg dat'=. y
dt=. sqlopen_psqlite_ trg
rc=. dt insqltd 'ImageAlbumXr';<dat
rc [ sqlclose__dt ''
)

LoadImageKeywordXr=:3 : 0

NB.*LoadImageKeywordXr v-- load mirror ImageKeywordXr table.
NB.
NB. monad:  iaRc =. LoadImageKeywordXr (clDb ; <blclDat)
NB.
NB.   sdr=. 'c:/smugmirror/mirror'                      NB. mirror directory
NB.   trg=. 'c:/smugmirror/documents/xrefdb/mirror.db'  NB. smugmug mirror
NB.   'img iax'=. MirrorImageXrTables sdr
NB.   LoadOnlineKeyword trg;<img

NB. load 'data/sqlite'
NB. (*)=. sqlopen_psqlite_ sqlinsert__dt sqlclose__dt

'trg dat'=. y
dat=. }.dat [ head=. 0{dat

'image keys'=. <"1 |: (head i. ;:'ImageKey Keywords') {"1 dat
keys=. <;._1&.> (';' ,&.> keys) -.&.> ' '
image=. (#&> keys) # image

NB. insert image keyword xref
dt=. sqlopen_psqlite_ trg
rc=. sqlinsert__dt 'ImageKeywordXr';(;:'ImageKey Keyword');<image;<;keys
rc [ sqlclose__dt ''
)

LoadLocalPath=:3 : 0

NB.*LoadLocalPath v-- load mirror LocalPath table.
NB.
NB. (LocalPath)  uses  values  from  a  ThumbsPlus SQLite  (Path)
NB. table. ThumbsPlus builds a complete table of unique paths and
NB. and path primary keys. All the paths  (mirror) will reference
NB. will be in this table.
NB.
NB. monad:  iaRc =. LoadLocalPath blclSourceTarget
NB.
NB.   src=. 'c:/thumbsdbs/working2018.tpdb8s'           NB. thumbsplus
NB.   trg=. 'c:/smugmirror/documents/xrefdb/mirror.db'  NB. smugmug mirror
NB.   LoadLocalPath src;trg


NB. load 'data/sqlite' 
NB. (*)=. ds dt sqlopen_psqlite_ 
NB. (*)=. sqlclose__ds sqlclose__dt sqlreads__ds sqlinsert__dt
 
'src trg'=. y

NB. fetch thumbsplus data
ds=. sqlopen_psqlite_ src
dat=. sqlreads__ds 'select idPath, name from Path'
rc=. sqlclose__ds ''

NB. convert path delimiters
paths=. allwhitetrim&.> <"1 '\/' charsub ;1{1{dat
ids=. , ;0{1{dat

NB. insert in LocalPath
dt=. sqlopen_psqlite_ trg
rc=. sqlinsert__dt 'LocalPath';(;:'LocalPathID LocalPath');<ids;<paths
rc [ sqlclose__dt ''
)

LoadMirrorXrefDb=:3 : 0

NB.*LoadMirrorXrefDb v-- loads new mirror cross reference database.
NB.
NB. monad:  btNameCnts = LoadMirrorXrefDb blclDirThumbMirror
NB.
NB.   sdr=. 'c:/smugmirror/mirror'                      NB. mirror directory
NB.   src=. 'c:/thumbsdbs/working2018.tpdb8s'           NB. thumbsplus db
NB.   trg=. 'c:/smugmirror/documents/xrefdb/mirror.db'  NB. mirror db
NB.
NB.   LoadMirrorXrefDb sdr;src;trg

NB. load 'data/sqlite'
NB. (*)=. sqlopen_psqlite_ sqlsize__db sqlclose__db

'sdr src trg'=. y

tabs=. CreateMirrorXrefDb trg

LoadLocalPath src;trg
LoadAlbum sdr;trg

NB. image and image x album xref data
'img iax'=. MirrorImageXrTables sdr

NB. image keyword lists
kw=. }. ((0{img) i. <'Keywords') {"1 img
LoadOnlineKeyword trg;<kw

LoadOnlineImage trg;<img
LoadImageAlbumXr trg;<iax
LoadImageKeywordXr trg;<img

NB. row counts in loaded tables
db=. sqlopen_psqlite_ trg
cnts=. tabs ,: sqlsize__db&.> tabs
cnts [ sqlclose__db ''
)

LoadOnlineImage=:3 : 0

NB.*LoadOnlineImage v-- load OnlineImage table.
NB.
NB. monad:  iaRc =. LoadOnlineImage (clDb ;< btclDat)

'trg dat'=. y
dat=. <"1 |: }. dat [ head=. 0{dat

NB. convert numeric columns
pos=. head i. ;:'ArchivedSize Altitude OriginalHeight OriginalWidth'
dat=. ((SQLITE_NULL_INTEGER_psqlite_&".&>) L: 1 [ pos{dat) pos} dat
pos=. head i. ;:'Latitude Longitude'
dat=. ((SQLITE_NULL_FLOAT_psqlite_&".&>) L: 1 [ pos{dat) pos} dat

dt=. sqlopen_psqlite_ trg
rc=. sqlinsert__dt 'OnlineImage';head;<dat
rc [ sqlclose__dt ''
)

LoadOnlineKeyword=:3 : 0

NB.*LoadOnlineKeyword v-- load mirror OnlineKeyword table.
NB.
NB. monad:  LoadOnlineKeyword (clDb ; <blclKeywords)
NB.
NB.   trg=. 'c:/smugmirror/documents/xrefdb/mirror.db'  NB. smugmug mirror
NB.   keys=. 'boo;hoo;foo' ; 'yoo;key;me'               NB. keyword lists
NB.   LoadOnlineKeyword trg;<keys

NB. load 'data/sqlite'
NB. (*)=. sqlopen_psqlite_ sqlinsert__dt sqlclose__dt

'trg keys'=. y

if. #keys=. <;._1 (;';' ,&.> keys) -. ' ' do. 
  NB. insert unique keywords and frequencies
  'kw fq'=. ofreq s: keys
  dt=. sqlopen_psqlite_ trg
  rc=. sqlinsert__dt 'OnlineKeyword';(;:'Keyword KeyFrequency');<(5&s: kw);fq
  rc [ sqlclose__dt ''
else.
  0
end.
)

MirrorImageTable=:3 : 0

NB.*MirrorImageTable v-- scan all manifest files and return an image table.
NB.
NB. monad:  btclImage =. MirrorImageTable clRoot
NB. 
NB.   img=. MirrorImageTable 'c:/SmugMirror/Mirror'

NB. z locale !(*)=. dirtree
img=. 0 0$a:
if. #files=. dirtree (tslash2 y),'manifest-*.txt' do.

  NB. for each manifest file there is a real date file
  'missing real date file(s)' assert fexist rdfiles=. RealDateFrManifest 0 {"1 files

  NB. all manifest/real date files have same layout get headers
  head=. 0{readtd2 ;0{0{files
  'image album'=. head i. ;:'ImageKey AlbumKey'
  'missing (ImageKey, AlbumKey) column(s)' assert (image,album) < #head
  
  NB. merge all manifest files and reduce on image key
  img=. ; }.@readtd2&.> 0 {"1 files
  img=. img #~ ~: image {"1 img

  NB. insert new columns in table schema order
  b=. 1 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1
  img=. b (#^:_1)"1 img
  head=. b (#^:_1) head

  NB. rename FileName -->> OnlineImageFile and insert new column names
  head=. (<'OnlineImageFile') (head i. <'FileName')} head
  head=. (;:'MirrorImageFile RealDate') (I. -.b)} head

  NB. update column positions
  'image imdate'=. head i. ;:'ImageKey RealDate'

  NB. merge in real dates
  rdhead=. 0{readtd2 ;0{0{rdfiles
  'rdimage rddate'=. rdhead i. ;:'ImageKey RealDate'
  'missing (ImageKey, RealDate) column(s)' assert (rdimage,rddate) < #rdhead
  rd=. ; }.@readtd2&.> rdfiles
  if. #pos=. ((image {"1 img) i. rdimage {"1 rd) -. #img do.
    img=. (rddate {"1 rd) (<pos;imdate)} img
  end.
  
  NB. image table
  img=. head , img
else.
  img
end.
)

MirrorImageXrTables=:3 : 0

NB.*MirrorImageXrTables v-- scan manifest/realdate files and return image and imagealbum xref tables.
NB.
NB. monad:  ((<btclImage), <btclXref) =. MirrorImageXrTables clRoot
NB. 
NB.   'img xref'=. MirrorImageXrTables 'c:/SmugMirror/Mirror'

NB. z locale !(*)=. dirtree
img=. 0 0$a:
if. #files=. dirtree (tslash2 y),'manifest-*.txt' do.

  NB. for each manifest file there is a real date file
  'missing real date file(s)' assert fexist rdfiles=. RealDateFrManifest 0 {"1 files

  NB. all manifest/real date files have same layout get headers
  head=. 0{readtd2 ;0{0{files
  'image album'=. head i. ;:'ImageKey AlbumKey'
  'missing (ImageKey, AlbumKey) column(s)' assert (image,album) < #head
  
  NB. read all manifest files 
  img=. ; }.@readtd2&.> 0 {"1 files

  NB. image album cross reference - insure unique rows
  iax=. ~. ((image,album){head) , (image,album) {"1 img

  NB. reduce on image key - there are duplicate 
  NB. images in the python smugpyter directories 
  img=. img #~ ~: image {"1 img

  NB. insert new columns in table schema order
  b=. 1 1 1 0 1 1 1 1 1 1 1 0 1 1 1 1 1 1
  img=. b (#^:_1)"1 img
  head=. b (#^:_1) head

  NB. rename FileName -->> OnlineImageFile and insert new column names
  head=. (<'OnlineImageFile') (head i. <'FileName')} head
  head=. (;:'MirrorImageFile RealDate') (I. -.b)} head

  NB. fill new with blanks - sqlinsert does not like J empties
  img=. (<'  ') (<a:;head i. <'MirrorImageFile')} img

  NB. update column positions
  'image imdate'=. head i. ;:'ImageKey RealDate'

  NB. merge in real dates
  rdhead=. 0{readtd2 ;0{0{rdfiles
  'rdimage rddate'=. rdhead i. ;:'ImageKey RealDate'
  'missing (ImageKey, RealDate) column(s)' assert (rdimage,rddate) < #rdhead
  rd=. ; }.@readtd2&.> rdfiles
  if. #pos=. ((image {"1 img) i. rdimage {"1 rd) -. #img do.
    img=. (rddate {"1 rd) (<pos;imdate)} img
  end.
  
  NB. image table and xref
  (<head,img),<iax
else.
  img
end.
)

MirrorImageXrefTables=:3 : 0

NB.*MirrorImageXrefTables v-- scan all manifest files and return image and album xref tables.
NB.
NB. monad:  ((<btcl) , <btcl) =. MirrorImageXrefTables clRoot
NB. 
NB.   k=. MirrorImageXrefTables 'c:/SmugMirror/Mirror'
NB.
NB. dyad:  ((<btcl) , <btcl) = clPat MirrorImageXrefTables clRoot
NB.
NB.   'changes-*.txt' MirrorImageXrefTables 'c:/SmugMirror/Mirror' 

'manifest-*.txt' MirrorImageXrefTables y
:
NB. z locale !(*)=. dirtree
kw=. 2 # <0 0$a:
if. #files=. dirtree (tslash2 y),x do.
  NB. all files have same layout get header
  head=. 0{readtd2 ;0{0{files
  'image album'=. head i. ;:'ImageKey AlbumKey'
  'missing (ImageKey, AlbumKey) column(s)' assert (image,album) < #head
  kw=. ; }.@readtd2&.> 0 {"1 files
  imgtab=. head , kw #~ ~: image {"1 kw
  imgalbxref=. ((image,album) { head) , (image,album) {"1 kw
  NB. unique image table & image x album cross reference
  (<imgtab),<imgalbxref
else.
  kw
end.
)

MirrorImages=:3 : 0

NB.*MirrorImages v-- scans all manifest/changes files and returns image keys as symbols.
NB.
NB. monad:  sl =. MirrorImages clRoot
NB. 
NB.   k=. MirrorImages'c:/SmugMirror'
NB.
NB.   NB. first ten images occurring in more than one gallery
NB.   10 ,.@{.&.> ofreq k
NB.
NB. dyad:  sl = (clPat ; caDel) MirrorImages clRoot
NB.
NB.   ('changes-*.txt';';') MirrorImages 'c:/SmugMirror' 

('manifest-*.txt';';') MirrorImages y
:
'pat delim'=. x
NB. z locale !(*)=. dirtree
kw=. 0$s:<''
if. #files=. dirtree (tslash2 y),pat do.
  NB. all files have same layout get position of images
  head=. 0{readtd2 ;0{0{files
  keypos=. head i. <'ImageKey'
  'no (ImageKey) column' assert keypos < #head
  NB. define key extraction verb
  kdv=. }.@(keypos&{"1@readtd2)
  s: ;kdv&.> 0 {"1 files 
else.
  kw
end.
)

MirrorKeywords=:3 : 0

NB.*MirrorKeywords v-- scans all manifest/changes files and returns keywords as symbols.
NB.
NB. monad:  sl =. MirrorKeywords clRoot
NB. 
NB.   k=. MirrorKeywords 'c:/SmugMirror/Mirror'
NB.
NB.   NB. top 25 keywords
NB.   25 ,.@{.&.> ofreq k
NB.
NB. dyad:  sl = (clPat ; caDel) MirrorKeywords clRoot
NB.
NB.   ('changes-*.txt';';') MirrorKeywords 'c:/SmugMirror/Mirror' 

('manifest-*.txt';';') MirrorKeywords y
:
'pat delim'=. x
NB. z locale !(*)=. dirtree
kw=. 0$s:<''
if. #files=. dirtree (tslash2 y),pat do.
  NB. all files have same layout get position of keywords
  head=. 0{readtd2 ;0{0{files
  keypos=. head i. <'Keywords'
  'no (Keyword) column' assert keypos < #head
  NB. define key extraction verb
  kdv=. }.@(keypos&{"1@readtd2) 
  keys=. ;kdv&.> 0 {"1 files
  keys=. (;delim ,&.> keys) -. ' '
  if. #keys=. <;._1 keys do. s: keys else. kw end.
else.
  kw
end.
)

MirrorMD5=:3 : 0

NB.*MirrorMD5 v-- scans all manifest/changes files and returns image MD5s as symbols.
NB.
NB. monad:  sl =. MirrorMD5 clRoot
NB. 
NB.   k=. MirrorMD5'c:/SmugMirror'
NB.
NB.   NB. first ten images occurring in more than one gallery
NB.   10 ,.@{.&.> ofreq k
NB.
NB. dyad:  sl = (clPat ; caDel) MirrorMD5 clRoot
NB.
NB.   ('changes-*.txt';';') MirrorMD5 'c:/SmugMirror' 

('manifest-*.txt';';') MirrorMD5 y
:
'pat delim'=. x
NB. z locale !(*)=. dirtree
kw=. 0$s:<''
if. #files=. dirtree (tslash2 y),pat do.
  NB. all files have same layout get position of MD5s
  head=. 0{readtd2 ;0{0{files
  keypos=. head i. <'ArchivedMD5'
  'no (ArchivedMD5) column' assert keypos < #head
  NB. define key extraction verb
  kdv=. }.@(keypos&{"1@readtd2)
  s: ;kdv&.> 0 {"1 files 
else.
  kw
end.
)

MirrorMD5s=:3 : 0

NB.*MirrorMD5s v-- scans all manifest/changes files and returns image MD5s as symbols.
NB.
NB. monad:  sl =. MirrorMD5s clRoot
NB. 
NB.   k=. MirrorMD5s 'c:/SmugMirror'
NB.
NB.   NB. first ten images occurring in more than one gallery
NB.   10 ,.@{.&.> ofreq k
NB.
NB. dyad:  sl = (clPat ; caDel) MirrorMD5s clRoot
NB.
NB.   ('changes-*.txt';';') MirrorMD5s' c:/SmugMirror' 

('manifest-*.txt';';') MirrorMD5s y
:
'pat delim'=. x
NB. z locale !(*)=. dirtree
kw=. 0$s:<''
if. #files=. dirtree (tslash2 y),pat do.
  NB. all files have same layout get position of MD5s
  head=. 0{readtd2 ;0{0{files
  keypos=. head i. <'ArchivedMD5'
  'no (ArchivedMD5) column' assert keypos < #head
  NB. define key extraction verb
  kdv=. }.@(keypos&{"1@readtd2)
  s: ;kdv&.> 0 {"1 files 
else.
  kw
end.
)

RealDateFrManifest=:3 : 0

NB.*RealDateFrManifest v-- real date files from manifest files.
NB.
NB. monad:  pl =. RealDateFrManifest blclManifestFiles
NB. 
NB.   RealDateFrManifest 0 {"1 dirtree jpath '~temp/manifest-*.txt'

NB. assumes use of (dirtree) - hence / path delimiter
paths=. tslash2&.> '/'&beforelaststr&.> y
paths ,&.> 'realdate-'&,&.> (#'manifest-') }.&.> '/'&afterlaststr&.> y
)

colorkeyfreq=:3 : 0

NB.*colorkeyfreq v-- color key frequencies from changes/manifest files.
NB.
NB. monad:  colorkeyfreq clSmugMirrorRoot
NB.
NB.   colorkeyfreq 'c:/SmugMirror'
NB.
NB. dyad:  clPrefix colorkeyfreq clSmugMirrorRoot
NB.
NB.   'manifest-*.txt' colorkeyfreq 'c:/SmugMirror'

'changes-*.txt' colorkeyfreq y
:
k=. (x;';') MirrorKeywords y

NB. color keywords
'k f'=. ofreq k #~ DominantColorPfx -:"1 [  0 1 {"1 [ 4 s: k
c=. 100 * +/\ f % +/ f

NB. frequency summary
s=. ,.&.> (>: i. #k);k;f;(100 * f % +/f);c;+/\. f
(<;._1 ';count;color key;frequency;percent;cummulative;reverse') ,: s
)

createMirrorXrefDb=:3 : 0

NB.*createMirrorXrefDb v-- creates sqlite mirrorxref database.
NB.
NB. monad:  bclObj = createMirrorXrefDb clPathDbFile
NB.
NB.   db=: createMirrorXrefDb 'C:/SmugMirror/Documents/XrefDb/mirrorxref.db' 

sqlcreate_psqlite_ y
)

createMirrorXrefTables=:3 : 0

NB.*createMirrorXrefTables v-- create tables in mirrorxref database.
NB.
NB. monad:  createMirrorXrefTables bclObj
NB.
NB.   db=: sqlopen_psqlite_ 'C:/SmugMirror/Documents/XrefDb/mirrorxref.db' 
NB.   createMirrorXrefTables db 

db=. y

sqlcreate__db imageSchema_sql
)

degeotag=:3 : 0

NB.*degeotag v-- remove geotagged keyword from images with nonzero latitude and longitude.
NB.
NB. monad:  btcl =. degeotag btclImages
NB.
NB.   img0=. readtd2 'C:\SmugMirror\Places\Overseas\Ghana1970s\manifest-Ghana1970s-Kng6tg-w.txt'
NB.   img1=. readtd2 'C:\SmugMirror\People\GreatandGreaterForebearers\manifest-GreatandGreaterForebearers-XghWcL-11.txt'
NB.   img2=. readtd2 'C:\SmugMirror\Themes\Diaries\CellPhoningItIn\manifest-CellPhoningItIn-PfCsJz-16.txt'
NB.
NB.   degeotag img0
NB.   degeotag img1

'geotagged' degeotag y
:
d=. }.y [ h=. 0{y
'missing (Keyword, Latitude, Longitude) column(s)' assert -.(#h) e. 'k l b' =. h i. ;:'Keywords Latitude Longitude'

NB. items with nonzero latitude or longitude
lb=. (l,b) {"1 d
if. 0=#p=. I. +./"1 ] 0 ~: (0 < #&> lb) * 0&".&> lb do. y return. end.

NB. items with (x) keyword
t=. (<p;k){ d
if. 0=#q=. I. +./@(x&E.) &> t do. y return. end.

NB. remove (x) keyword(s)
h , (x rekeyword t) (<p;k)} d
)

dpiarearatio=:3 : 0

NB.*dpiarearatio v-- print area and aspect ratio for image dimensions at given DPI.
NB.
NB. monad:  fa =. dpiarearatio ilWidthHeight
NB.
NB.   dpiarearatio 2000 3000
NB.   dpiarearatio |: 10 # ,: 4888,3256
NB. 
NB. dyad:  fa =. faAspectDP1 dpiarearatio ilWidthHeight
NB.
NB.   0.0005 0.05 500 dpiarearatio 2000 3000

(SMUGASPECTROUND,SMUGAREAROUND,SMUGPRINTDPI) dpiarearatio y
:
'aspect area dpi'=. x
(area round (*/y) % *: dpi) ,: aspect round (<./y) % >./y
)

fmtkeys=:3 : 0

NB.*fmtkeys v-- format print keys.
NB.
NB. monad:  fmtkeys stKeys

ctl ;"1 (5 s: |: y) ,&.> <'  '
)

geotag=:3 : 0

NB.*geotag v-- add geotagged keyword to images with nonzero latitude and longitude.
NB.
NB. monad:  btcl =. geotag btclImages
NB.
NB.   img0=. readtd2 'C:\SmugMirror\Places\Overseas\Ghana1970s\manifest-Ghana1970s-Kng6tg-w.txt'
NB.   img1=. readtd2 'C:\SmugMirror\People\GreatandGreaterForebearers\manifest-GreatandGreaterForebearers-XghWcL-11.txt'
NB.   img2=. readtd2 'C:\SmugMirror\Themes\Diaries\CellPhoningItIn\manifest-CellPhoningItIn-PfCsJz-16.txt'
NB.
NB.   geotag img0
NB.   geotag img1

'geotagged' geotag y
:
d=. }.y [ h=. 0{y
'missing (Keyword, Latitude, Longitude) column(s)' assert -.(#h) e. 'k l b' =. h i. ;:'Keywords Latitude Longitude'

NB. items with nonzero latitude or longitude
lb=. (l,b) {"1 d
if. 0=#p=. I. +./"1 ] 0 ~: (0 < #&> lb) * 0&".&> lb do. y return. end.

NB. items without (x) keyword
t=. (<p;k){ d
if. 0=#q=. I. -. +./@(x&E.) &> t do. y return. end.

NB. insert change(s)
h , (((<x,'; ') ,&.> q{t) q} t) (<p;k)} d
)

insqltd=:4 : 0

NB.*insqltd v-- insert btcl table into sqlite table.
NB.
NB. dyad:  iaRc =. baObj insqltd (clSqlTable ;< btclData)
NB.
NB.   db=. sqlopen_psqlite_ jpath '~temp\dntest.db'
NB.   dat=. readtd2 'C:\Users\john2000\j64-807-user\temp\dn_dv.txt'
NB.   db insqltd 'dntest';<dat

NB. require 'data/sqlite
NB. (*)=. sqlcols__x sqlinsert__x sqltables__x

'tab dat'=. y
st=. sqltables__x ''
'missing database table' assert st e.~ <tab
cl=. sqlcols__x tab
'missing table column(s)' assert cl e.~ 0{dat
sqlinsert__x tab;(0{dat);< <"1 |: }.dat
)

printsizekey=:3 : 0

NB.*printsizekey v-- j version of python (print_size_key).
NB.
NB. monad:  st =. printsizekey btclManifest
NB.
NB.   mf0=. readtd2 'C:\SmugMirror\Places\Overseas\Ghana1970s\manifest-Ghana1970s-Kng6tg.txt'
NB.   mf1=. readtd2 'C:\SmugMirror\Themes\Diaries\CellPhoningItIn\manifest-CellPhoningItIn-PfCsJz.txt'
NB.   printsizekey mf0
NB.   printsizekey mf1
NB.
NB. dyad:  st =. iaDpi printsizekey btclManifest
NB.
NB.   720 printsizekey mf1

SMUGPRINTDPI printsizekey y
:
NB. image keys and dimensions 
d=. y {"1~ (0{y) i. ;:'ImageKey OriginalHeight OriginalWidth'
f=. |: _1&".&> d=. 1 2 {"1 }. d
'invalid image dimensions' assert 0 < ,f

NB. default print size keys
'area ratio'=. (SMUGASPECTROUND,SMUGAREAROUND,x) dpiarearatio f 
keys=. (#ratio) # s: <NORATIOKEY

NB. print sizes for image ratios
pst=.  SMUGASPECTROUND printsizestable SMUGPYTERSIZES
ast=.  ;0{"1 pst
m0=.   ratio e. ast
idx=.  (ast i. ratio) -. #ast
pst=.  idx { pst

NB. images without enough pixels
area=. <"0 m0 # area
m1=.   (1 {"1 pst) <&.> area
m2=.   +./&> m1
keys=. (s: <NOPIXELSKEY) (I. m0 #^:_1 -. m2)} keys

NB. largest print sizes for enough pixels
sizes=. ,(I.@lastones&.> m2#m1) {&> 2 {"1 m2#pst
keys=. sizes(I. m0 #^:_1 m2)} keys

NB. image keys, print size keys, pixels
NB. smoutput (<"0  m0 # keys) ,. area ,. pst 
(s: }.0 {"1 y) , keys , |: s: d 
)

printsizestable=:3 : 0

NB.*printsizestable v-- computes print sizes table.
NB.
NB. monad:  bt=. printsizestable blclPrintSizes
NB.
NB.   printsizestable SMUGPYTERSIZES
NB.   printsizestable <;._1 ' ',reb '10x10 20x30   3x2 2x3 12x8  8x12 10x10   '
NB.
NB. dyad:  bt=. faPrecision printsizestable blclPrintSizes
NB.
NB.   0.00005 printsizestable SMUGPYTERSIZES   

SMUGASPECTROUND printsizestable y
:
sizes=. sortprintsizes y
ratios=. ".&> 'x%'&charsub&.> sizes
areas=.  ".&> 'x*'&charsub&.> sizes

NB. sizes with same ratio, eg: 4x5, 8x10, 4x6, 8x12
aspect=. ((~.ratios) i. ratios) </. i. #ratios

NB. columns: ratio, areas, print sizes
(<"0 x round ~.ratios) ,. (aspect {&.> <areas) ,. s:&.> aspect {&.> <sizes
)

rekeyword=:[: 2&}.@;&.> [: '; '&,L:0 ([: <;._1&.> ';' ,&.> ' ' -.&.>~ ]) -.&.> [: < [: < [

smugprintsizes=:3 : 0

NB.*smugprintsizes v-- compute largest print size for given dpi.
NB.
NB. Computes the  largest  print size  (relative  to  DPI x)  for
NB. SmugMug images. Only images that have aspect ratios  close to
NB. the ratios  on  (SMUGPRINTSIZES) are associated  with a print
NB. size.
NB.
NB. monad:  st=. smugprintsizes btclImages
NB.
NB.   NB. read table delimited (smugpyter.py) album file
NB.   images=. readtd2 'c:\SmugMirror\People\TheWayWeWere\manifest-TheWayWeWere-X8X9pK.txt'
NB.   'keys sizes'=. |: smugprintsizes images
NB.
NB. dyad:  st=. iaDpi smugprintsizes btclImages
NB.
NB.   NB. images are dropped if there are not enough pixels for DPI
NB.   #images
NB.   #600 smugprintsizes images

SMUGPRINTDPI smugprintsizes y
:
nsym=.s:<''

NB. reduce image table on PID
images=. }. y [ imhead=. 0 { y
pidpos=. imhead i. <'ImageKey'
if. 0=#images=. images #~ ~:pidpos {"1 images do. 0 2$nsym return.end.

NB. compute print sizes table
pst=. SMUGASPECTROUND printsizestable SMUGPRINTSIZES

NB. image dimensions short x long
idims=. _1&".&> (imhead i. ;:'OriginalWidth OriginalHeight') {"1 images
'invalid image dimensions' assert -. _1 e. idims

NB. aspect ratio and print area (square inches)
'areas ratios'=. (SMUGASPECTROUND,SMUGAREAROUND,x) dpiarearatio |: idims

NB. mask table selecting images with ratio
masks=. (;0 {"1 pst) =/ ratios
if. -.1 e. ,masks do. 0 2$nsym return.end.

masks=. <"1 masks
pids=.  s:&.> masks #&.> <pidpos {"1 images

NB. largest print area for selected images at current DPI
masks=. (1 {"1 pst) </&.> masks #&.> <areas
pids=.  (<"1&.> masks #"1 &.> pids) -. L: 0 nsym
sizes=.  <"0&.> 2 {"1 pst
; |:&.> ; pids ,: L: 0 (# L: 0 pids) # L: 0 sizes
)

sortprintsizes=:3 : 0

NB.*sortprintsizes v-- sort print sizes as ascending unique Short x Long,  
NB.
NB. monad:  sortprintsizes clPrintSizes
NB. 
NB.   sortprintsizes SMUGPRINTSIZES
NB.   sortprintsizes <;.1 ' ',reb '10x10 20x30   3x2 2x3 12x8  8x12 10x10   '

(~. ' x'&charsub&.> ":&.> /:~ (/:~)&.> ".&.> 'x '&charsub&.> y) -.&.> ' '
)

showpass soput ".'nl_',SOLOCALE,'_ i.4' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}
cocurrent SO__JODobj NB.{*JOD*}
zz=:dec85__MK__JODobj 0 : 0
1,Cp51b^%-+>GPm2)?@03$:%9+>Gbs0fC./2BXb8+>PVn1c-=8+>P_q0fC.01E\D3+>Ybq0f'q-
2]sh5+>beq0f:(/1*A;1+>Y_p0fC.23?U%:+?)%u1,0n01*A;,+>u,#0f1"21a"M,+>u,#0eje/
0H`)(+?2%t0f^@51a"M4+>Ykt0f'q/3$9q5+?)/#0esk/2BX_2+>c#"0f1"23$9q0+>c&#0esk1
1*A;,+>c)$3$:.8+>GVo2DH=4+>u/$2]sn6+>GVo1H$@22BXb7+>G_r1,^78+>tqs0f1"00H`),
+>ki?;c@$jDes?4F*(i"Ch4`-Afu/:@;]UaEb$:[;c=fKDes?4+DtV)ATKCF84?W'@;]Tu;Fa%r
G%#30ATL4ZART[l9keWgDfSs#AS+>>@rc-hFCfM9F)c#1FCcS3Bl\64EZek4Df]tBEb/ioEb0,u
AKYMlFCAWeF(I^ZART[l9keWgDfT3+EGTK+EcQ)=/nAE6F(8lpD.,hND/!lrDKJ6aCi=>jApA98
AS,Y$+E(j7A8c=!DIIF)+Cf>+DfQt9AU/>g7R9C1=&2^^;b^tHEc5u#Eb/isDKKH1Amo1\+EqaE
A9/kA8Oc!579<8_6rQfoEcQ)==E7tb.3N8DDfp"mDdd0BCgqO(Ci<`m+Dkh5Ec5t@6#:"QD'3q/
@VfULDdd0JD..'g6#:"QD-1gpDdd0!8SqmKAO1-AF_t6$+EV%$Ch6:Y@:VrH@:s.EAU/K<Eb&9m
Ci<`m+Dkh5Ec5t@8SqmKAP6T[GAhM4=E5O+@:F%a9Q+?M9Q+ELCf"P^BP_TqA0>`'EcQ)=+A?]`
@;JbKFD)e=@:F%a9Q+?M9keWgDfSs#AS+>>Ci<`mF!,@3G9Ca:EcQ)=+CfG1F)rIEAS,LoASu!h
+Cno&@:EYdAP@#NA5@)ZBl7KRD..'gCi<`m+AZlkBl7KRD..'g+EV%$Ch6:Y@:W/OCh[cu94`Bm
DfTB)Ddd0!D/"$2DfQsrDJX$)AP6T[GAhM4+EV%$Ch6=TEcQ)=8SqmKAQ3)ICh7Zt@;[2rCht52
@;]dkATMr9Anc'mF!+n/A0>o(FEMVA+CT.1Bl.9kAKZ)'@VfUMBl\64E_1+VB4Y1c<+06PATMp&
@;[3)@;]dkATMrHEb/ZqA79Rk+D,>(ATJu&DIal1ATW'8DBNY1@:s-o@;]TuBl.9kARTCaF_r7G
Eb/i*FCAWpATLR[EcQ)=8SqmKAQWtaAlN2JCh7[/@ps6t@;Ka&D..<rAn?%*+D,>(ATJu&DIal1
ATW'8DBNY1@:s-o@;]Tu@;KCqD'4(DAS*',@:F%aF%p@hEc5tiD..'gF)ti"DK?q/Cht52@;]dk
ATMrH@q]:gB4Z-,Anc'mF!+n/A0>o(FEMVAF!,16@:s-oCLqd4+CT=6F*VV3DesJhBl\64E_Bth
GAhM4F)ti"DK?q/Cht52@;]dkATMrH@q]:gB4Z-,Anc'mF!+n/A0>o(FEMVAF!,70H$=1IA9/l%
F!,OLD.7F"F%p@hEc5tm6oB%,@ps7r+CT)&+DkP)BkCptF>%-;@;]^hF!,(/Ch7Z1@;]TuEb0?8
Ec,q@Bl.9kAKX]8200mKF!,OLD.7F"F&#M-8Q\DT;bKP^CLqd8DfTA2Bl7Hq@psInDJ()+D..'g
+Co2'ASuR'Df0V=FDi:CD..6s+D,P4+E2@8DKI"BBmO?3:/=bR<(TkY79OD;H$=1IA0>T(A8,O^
FD5W*+DG\$B4W2rBl.F!F(oQ1+CoC5DJsV>D..NrBHV87Bl8#8F(or3F!*%WDJsE6FCB&t@<,m$
F(f!$ATLaF:K1Ck;FFGXBl\64E`d?nAo_g.F<GdGEb'56-rNi:<*)jn6rQfoEcQ)==E7tb.3N8D
Dfp"A+<VdL+AucZCd_]RAO^]7@;]dkATMs6ARTBtA79Rk+D,>(ATJu+Ec5e;D..<rAn?%*+D,>(
ATLdE<C]>Q76sgI<DGr&Dfor.+E(k(+D,P4+E2@8DKI"BF`M)&@q?ckEb/Z%.!'BN@<,p%Bl7Eo
ATK;!9iX\L;c#nM<)QLl:.0,@F`(_4De<T(AoD]4;f-Yi9m((k@<6C!@rri6@<?4%F!*%WE,oN"
Ble!,DBNe=F*&O8BleB1DJ+*+F(c\)Cht57@<?4%F&Pe57o3)T:/jVX8RuCE@<HC.+E2@8DKI!h
:e;c]+EM+9+EVNE<+pDk@WP@^F`S[B@:O=r+Eh10F_)\6Afrlf0N1\G7o3)T:/k.`>")A"C`mY.
+B)rlEc`FK+A?]kB-8U:DI[?kF"&51D09JcF_;h9EbTE5+EM7CATLdE<C]kg<(0\`8QnP]E,oZ1
F<GX=H=_.?FD,*)+DkP/@q[!.@;L't+DG^98p,)uFCfJ8DJsW.@W-1#F!+n/A0=]oFD,T1+EM%5
BlJ08;cZCq6Z6dZEcZ>2@VfTuDe:,5FCB&t@<,m$;cZC2@rH1%EZf7.D.Rc2@;]Tu;Fa%rG%#30
ATLpA6=3Q76Z6dZEcY`/Ci=>:DIIBnF!+n/A0=E3=<McqCis<1+D#e>Ea`I"ARloqEc5e;:jI.r
Df-\AAR].fCi=?8+Dl%-F_kV3F)Q2A@qB.gCi=?0AU.m.AT;3uCi=>:CLqc6Ao_I&F_,H#Bk;?.
Ao_g,+Cf(nDJ*O%05Y-8BkCptF<G10Ch7ZuAS5RmFCAg&ASl@/AKYVsDffE#B4YTrCLqd8DfTA2
Ao_g,+DG\$B4Z-,GA2/4+Du+8H=_,8+DbJ.BlnK.AKYE!A0>],DJ*[*F_#&oE+ra$ARTUfFD5Z4
EbTE5+CT;%@3AurA0><%E+NO$+ECn4Bl>,+DfQt7D..'g+Co2'ASuR'Df0V=@<<W)Bm+'*+@K$t
B4Z"'@:s"ZA0>MrDffE#B4YTrCLqd8DfTA2FDi:9D..'gF!,[@FD)e7Df0l4Ec3(:@<?4*F_#&+
@;]TuCi=3(BlnK.ASH%'EGT`-Bl8!'Ec`F5FCT,0FCAWpAKY])FDi:CEGT?2AKZ)'@VfUpEbTE5
F(or3CLqd++Eh=:F(oQ1+E(j7E-ZP=Df-[GE,oZ1FC0*'H=^H!AU,_DEbTE5F(or3CLqcu@UX=l
@ru:'FC\g%@<?(%F<G+&FC?;(DfQsKE,oZ1FE;/BASYk&.<'<ADKKr6H=_/>@:F%a@rH4'F`_29
+E2@8DKI"BBmO?3+EV%$Ch7WuCLqd8DfTB/ASl@/AKYc"H$=1IA0>K)Df$V+Ch%9(CLqd8DfTA2
F*)G:DJ+#5/Kf+GAKYf-DJ()&De!p,ASuTBF)?&4E,oZ1FE;/BATM@"D/aW>AKYetEbAs)F<GOC
Bl8#8F(or3+D,P4+D5D3ASrW$E+sB3Ecc8@Bl8$6BmO?3F)Q)@+E2@8DKI"BBmO?3+CT=6@<5pi
DIdI!B-;>7BlS9,+B)rlEc`FK+A?]kB.O                                         ~>
)
showpass 0 8 put ". ".'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:dec85__MK__JODobj 0 : 0
3?U%!1*AS"2)[41ASYk&GAhM4.WT*9AU/K<Eb$;9/M/)cASl@/AKYc"H$=1IA0>K)Df$V+Ch%9(
CLqd8DfTA2F*)G:DJ+#C%13OO<+oue+Eh=:@NZe6ASl@/ATJt:@rH7,BkM@,F!)T7Cgh3s+D,Y*
AKZ&:@WQX3Bl7Q++DYP6GAhM4Et&IuBOQ!*+CoC5DJsV>@rH7,@;0U%-T`[uAo_g,+CQB8@VfOj
+E(j7CLqd8DfTA2F*)G:DJ+#C+B3#c%170%DKK<3+E(j7CLqd8DfTB0+<YB>+E):7ASuU$A0>u4
G@>N&+<Yc>AKW+:FE2)5B6,29ATW'8DIm>f$>+<sD'3q6AKXogF_=EkB-:)@;cFl*:e<8K$4R>c
ATD6gFD5SQ%13OO+<XEG/g+_ME,95uBlkJ.AS,XoBln'-D@Hpq+ED%/AU/K<Eb%<o+>GYp3Zodu
1+%E%5W^DA/j:C+-mpB(+=AN`/1D]83Zp+*+=K?6/mg=[/j:C*-T`\'+=nil4s5+n/M8A&4s24#
+=ANc+>#2m/j:C?4Er4_$4R>QH!t5E+<Y-0@r*8N/g+Y?+ED%/AU/K<Eb$;%Ch%8j$4R=b+DYP6
F$2,u-Za3E4!80IDffE#B4YU8+CT+K+DE2b-Z*EV+D58(FCAfpARmkF@Vg0u?Y!ScCHEXmH8.K(
FDl(F%144#-YI"/FCAfpARm/2Eb0#tH$=1IA0>Z!H#jE%%13OO%13                     ~>
)
showpass 0 9 put ". ".'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:dec85__MK__JODobj 0 : 0
0eje*+>P&p0H`),0Jm`hBl8$6BmO?+AU.Wl@<6-m0JH6g/h1g\Bl8$6BmO?+AU.Wl@<6-m0JFVj
/M/)S@<6-m+EV19FE8R:DfQsKE,oZ1FE;/BASYk&.4u&::-pQB$;No?+Eh=:@UX@mD)reJF)uJ@
ATJtBE,oZ1FE;/BASYk&.3N&:A0>DoE+NotASuU2+Dbt)A7]9oBl8$2+C\c#AKYf-@ps1b/e&._
67r]S:-pQU+<Y<.FE2UK4$"a.EbTE5F(or3CLqc6E,oZ1FE;/BASYk&?XdGbBk)6rF*(r$FC?O>
%15is/e&._67sBjEb/[$ARmhE1,(FBC12!70F\@a67sB4/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+
/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/I`%^67sB8
3,2l>0f'qaBl7?q+E1b1F(Jl)D.Rd0@:s-o@:Wn[A.8l@67sB83,2l>0f1"jDffP5F`V+:De:+?
;b^7^:g$ad;H$.j78kWX@X0(EE,oZ1FE;/BASYk&.1HUn$;No?+DG_:@;KXg+DG\$B4W2rBl.F!
F(oQ1Et&IqF*'Q++E2@8DKKr6H=^l'H!b#hF(o-+ATMs(@<>oe$4R>;67sB7+E2%>AS`K"Bl.F!
F(oQ1Et&IqF*'*!3Zoh5-SQns+=K?#I4f4d+<tiHF=B:++>PBo+E2CD%13OO:-pQUFD,]5GB4m8
F)to5FD5Z2+>"^YF(KD8-rWi?7o3>f78d&U>")@=%14M&EbTE5F(or3CLqc63]\B<3[l1jF*')F
$4R>;67sBuAS5FnBm+&1E+sQ.C`m8&D.RU+Bl@m1%17&qF>,j=+=K?"/Mf(..3L$$."*^^/g)BX
F*&im0d&5#I3<KMF:AQd$;No?+EV:;Dg-7F@<6L$Ecc#6D@Hq$E,oZ1FE;/BASYk&+?DP+0fga+
E-$+T%13OO:-pQUDJsV>ASuF/B4rE,Bm=3*Et&IqF*'*!3Zoh5-S[;&.3L$$."*^^/g)BXF*&im
0d&5#I3<KMF:AR*F#lEY:JaVb78-WQ79M&^4WlI%HQ[9JBl8$6BmO?+AU,D;F*')F$4R>;67sC$
@<?4%F!,@=F<G:8+E2@8DKI"BBmO>5FCAWpAISucF*'*!3Zoh5-SdA00IJ:l-p/o+/nlp\,B.^G
.6B75I3<KMF:ARrF*'*!3Zoh5-T<_50IJ:l-p/o+/nlp\,B.^G.6B:6I3<KMF>+.2.!%F3:/=bR
<(TkY79M&^4WlI%HQ[9JBl8$6BmO?+AU,D;F*')F$4R>;67sC$ATW'8DBNe)G\M#;D'3n6H=\42
DfQt/Cht57@<?4%Et&IO67sC)BOu'(D/XH++EV:*DBNM.Dfo]++E2%>AScDs$?L914ZX^43[-:$
;b^7^5uUTK6W?rZ<DGq)E,oZ1FE;/BATMs%@VfTu;b^7^:g$ad;H$.j78jX&Bl.BpD0%j$+<iin
/j:C?+tt-'/i#+70Ie8!-9`f%+=ALGBOPq&F^c[M4s2^*F#kFj/g`b)F)uF4$4R>;67sBsDdd0!
Cgh?sAKY](@:s-oA8,mlDKBN1DK?6oE-$+T4ZX]6-p0O8E-$+M+=&(DD.I?tF"&4[4=GV1BeCWL
F*&im0d&5#I3<KMF:ARdBkML$H=_.\3ZoOn4?=^+F*&iR,TqFp-9`PnF*%iu@VKIrBmO?3+?^i%
+F>5MEbTE5F(or3CLqc6E-$+T%13OO%14gN5U\?13\i$;.3L!HCht59ATMs7+E1b1F(Jl0%13 ~>
)
showpass 1 put ". ".'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:dec85__MK__JODobj 0 : 0
3?U%!1*A>++>Y]jEbTE5F(or3CLqcu@UX=l@k]TG@<6-m+EV19FE8R:DfQsKE,oZ1FE;/BASYk&
.0                                                                        ~>
)
showpass 1 8 put ". ".'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:dec85__MK__JODobj 0 : 0
2E)a;+>Y,q1a"Or3&33E+>Gbs1*A;02_Z@/2'=Xs1,(L,0f1".+?254+?:Q"+?(u0+>GVo1*AG.
3$9q7+>P'!2D[X0C3=T>6uQpVDIIF)6Z6dZEcYT0G]Y\u.kN>)/M/J)/M/P+/M/P+/M/P+/M/P+
/M/P+/M/J)/M/P+/M/P+.kN>)/M/P+/M/P+.kN>)/M/P+/M/P+.kN>)/M/P+.ggZ6Dfor>Ht.)2
DfQt9AU,C@+<VdL+<VdL+<VdLHtID1EHPi1@sNH@ATD9lDKI!D+<Z&AF_tu<CghF"G%H&AAThX*
F(K_+.kN>)/M/J)/M/P+/M/P+/M/P+/M/P+/M/P+/M/J)/M/P+/M/P+.kN>)/M/P+/M/P+.kN>)
/M/P+/M/P+.kN>)/M/P+.ggYH+>Fu]HseX8A79LoF)59,AS6$pGp"4P+<VdLHo*c9+<VdL+<Z%S
+>GT'0K(XB1,aM70eP.<0f1XD+<Z%g1,M!6+<Z%=HlsOe+<Z&>0OJ:*@:O'q+<VdL+<VdL+<VdL
+<Z%f2DcO!+<VdLHlsOk/i>OF2_m*GHndW62DR6H1cQU#Ho!]?3?TFeHjY6D+>Y,_HseX8A8,mn
Eb0M=+<VdL+<VdL+<VdLHnmT<+<VdL+<Z%S+>ti-2D?mH2Dok;2(gjJ3&EHK+<Z%f1bgj1+<Z%=
HlsOg+<Z&>0OJ@!Ebf<.AU,C@+<VdL+<VdL+<Z%e1GBpo+<VdLHlsOh/i5:=0Jb[FHo!K01GCO?
3&;["Ho!K63?TFeHjY6D+>k8aHseX8B45LlF(0'.D]g/F+<VdL+<VdLHnmB0+<VdL+<Z%S+>b]0
0K(pN3B;IC2D-[;3&EQM+<Z%e3AEN:+<Z%=HlsOi+<Z&>0OJI5AU,C@+<VdL+<VdL+<VdL+<Z%d
3B&''+<VdLHlsOS1bL[B2D[<MHo*N02Dd6M2)l^$HnmW83?TFeHjY6D+?(DcHseX8A79LoDes-2
AS6$pASrV5+<VdLHndT?+<VdL+<Z%S+>b]-1,LjI0K"572(gR@3A`KN+<Z%e2)6p0+<Z%=HlsOk
+<Z&>0OJX1B4uC"Eb0M=+<VdL+<VdL+<Z%d3&Vm%+<VdLHlsOg/i,FF2)$^BHo*i91c.*N1-$I"
HnmK61a!n`HjY6D+?:PeHseX8Ec6#E@WHC2DBL&E+<VdL+<VdLHndT:+<VdL+<Z%S+>b],0K(mN
2)fn?1G1UD1H7-H+<Z%e0f1j4+<Z%=Hlt-t+<Z&>0OJX1B4uC.FCf$"@Vg0u+<VdL+<Z%d3&2U!
+<VdLHlsOg/i#CB1H$pHHo3l90JbXB3&Mg$HndW>2'="aHjY6D0ejdnHseX8F*(u)Cgq4'AKW*<
+<VdL+<VdLHndK=+<VdL+<Z%S+<WHm2`*9D2)fn@0ePCD3ANEH+<Z%d2`NT9+<Z%=Hlt.!+<Z&>
0OJm8Cj'B1+<VdL+<VdL+<VdL+<Z%d0fC-s+<VdLHlsOe/iPR?0Jt[AHo<f62)%$G3Ar!&HndN7
1a!n`HjY6D0f'ppHseX8CghKuDId=!+<VdL+<VdL+<VdLHnd?0+<VdL+<Z%S+>PQ,3&ilS1c0S<
2_HdE3&*6E+<Z%d2)%!4+<Z%=Hlt.#+<Z&>0OJp1DBL&E+<VdL+<VdL+<VdL+<Z%d0ea^m+<VdL
HlsOe/i>UJ3&EHKHo<u;2E3TT3&Mg$HndE;3$9=dHjY6D0f:'rHseX8Ch[NqFE;8,FCf**AU,C@
+<VdLHlt@.+<VdL+<Z%S+<WBk3&N]O2DKS<0eP=?2DR*I+<Z%d1,q69+<Z%=Hlt.%+<Z&>0OJ=.
Ec,K*Dg,c5@Vg0u+<VdL+<Z%S2_uR!+<VdLHlsOd/iPLE0JtR@HoEi61,^sE3B&''HndB13?TFe
HjY6D0fL3tHseX8GA(]4ATM^,CLnV2+<VdL+<VdLHlt=-+<VdL+<Z%S+>GK,1,CpF0f=>;1bLaI
3&30J+<Z%d0f(^1+<Z%=Hlt.'+<Z&>0OJm0A7TLf@WHC2DBL&E+<VdL+<Z%S2DZHu+<VdLHlsOd
/i5OC2_ZsGHoEr91H.!J0ejdnHnd<52]s4cHjY6D0f^@!HseX8F(o3'DIFY1+<VdL+<VdL+<VdL
Hlt:++<VdL+<Z%S+>GK)2Dm0D2_f\=2_I$F2*!HP+<Z%d0JG=++<Z%=Hlt0u+<Z&>0OJm:H"(T4
AKW*<+<VdL+<VdL+<Z%S2)??t+<VdLHlsOd/i#7B1GppDHlt@-/ibmI1-$I"HltF+2BX+bHjY6D
1,0moHseX8E+O'4+<VdL+<VdL+<VdL+<VdLHlt:#+<VdL+<Z%S+>GK'2`<TO2`5tB0J5(<0JG:B
+<Z%S3&rc;+<Z%=Hlt1"+<Z&>0OJ[2A8Z*oBQR^"F_)[<+<VdL+<Z%S1cZ[$+<VdLHlsOd/ho4>
1,1OAHltC'/i,4<1,U0sHltC*1E[e_HjY6D1,C$qHseX8Ch[cuDBL&E+<VdL+<VdL+<VdLHlt7&
+<VdL+<Z%S+>GK&1Gq$G2`Q1E1+k@>3&`fV+<Z%S2`W];+<Z%=Hlt1$+<Z&>0OJX1B4uBrCis;3
+<VdL+<VdL+<Z%S1c-<t+<VdLHlsOd/hf(=2)@0NHoNo71H73I1,^6tHlt@*0H_J\HjY6D1,U0s
HseX8Des-2ARogi@NZd9+<VdL+<VdLHlt7"+<VdL+<Z%S0J5@B0f(gK3B2CG1bLR>2)d9I+<Z%S
2_[-4+<Z%=Hlt1&+<Z&>0OK$;ART['+<VdL+<VdL+<VdL+<Z%S1H?R#+<VdLHlt*q3AEHP2D[$C
HoNu91,LdE3&_s&Hlt=*2BX+bHjY6D1,g<uHseX8A79LoCM7-lBcnN@+<VdL+<VdLHlt4)+<VdL
+<Z%S0J5=F1c$mH0K=G>2D-^?2`WTM+<Z%S2DR36+<Z%=Hlt1(+<Z&>0OJm;@<?'nEb0M=+<VdL
+<VdL+<Z%S1H6L"+<VdLHlt*q3&rfO1,psIHoO&;0JbI>1c$6sHlt:+3?TFeHjY6D1-$I"HseX8
@Wc^-H$=1FA0<!;+<VdL+<VdLHlt4(+<VdL+<Z%S0J5=D0K2!J0f+2:2_I*E1GCUC+<Z%S2)R*2
+<Z%=Hlt4!+<Z&>0OK$;Blmo/+<VdL+<VdL+<VdL+<Z%S1Gg3s+<VdLHlt*q3&!$@3&iZQHoO)<
2_[$C1,L*rHlt:$1a!n`HjY6D1GL!pHseX8F)Go?+<VdL+<VdL+<VdL+<VdLHlt1)+<VdL+<Z%S
0J57C1,UdB2)BV>3A**I2)d<N+<Z%S1cR03+<Z%=Hlt4#+<Z&>0OJ@!Ebf`4@<?'iCis;3+<VdL
+<Z%S1,^6t+<VdLHlt*q2DHpH0K:sMHoO,=3B9#V1cHO"Hlt7'0d%S]HjY6D1G^-rHseX8@prnZ
FCK'/AKW*<+<VdL+<VdLHlt1%+<VdL+<Z%S0J54B3&<KL2`#h(3A<'C3&WHG+<Z%S1bpp2+<Z%=
Hlt4%+<Z&>0OJ[*Ec5l6+<VdL+<VdL+<VdL+<Z%S1,C$q+<VdLHlt*q2)I$D0Jb[FHoWo60et[D
1,L*rHlt7"0H_J\HjY6D1Gp9tHseX8E,Tr2ATD6rF_)[<+<VdL+<VdLHlt1#+<VdL+<Z%S0J54>
0f(L>3&H"C0eP@B3&WNO+<Z%S1H.68+<Z%=Hlt4'+<Z&>0OJ7+FD5`;ATqg%FCcR;+<VdL+<Z%S
1,'gn+<VdLHlt*q1cI*H3B0#ZHoWr70f(gG1,g<uHlt4&1a!n`HjY6D1H-F!HseX8Bl7Hq@;^*s
A0<!;+<VdL+<VdLHlt.&+<VdL+<Z%S0J5190JGLD0f48<1+kF?3A`KG+<Z%S1G^j1+<Z%=Hlt4)
+<Z&>0OJF+Eb/^#Bk(p$+<VdL+<VdL+<Z%S0f:'r+<VdLHlt*q1GpsB1,LaCHoWr73&r`N1c6Bu
Hlt4"2]s4cHjY6D1H?R#HseX8Ch[NqFE;5C@Vg0u+<VdL+<VdLHlt.#+<VdL+<Z%S0J5.:3A`]U
1-'_B1G1F<0f_$I+<Z%S1GCR,+<Z%=Hlt7"+<Z&>0OJ@!Ebf`-@:sUlASrV5+<VdL+<Z%S0f1!q
+<VdLHlt*q1GUsI3&r`SHoWu82)R*F1,L*rHlt1(3$9=dHjY6D1bg*qHseX8F(&rsH"(f4GA\NG
+<VdL+<VdLHlt.#+<VdL+<Z%S0J5.:3A`]U1-'_B1G1XH0KCjD+<Z%S1,h$4+<Z%=Hlt7$+<Z&>
0OJ:'F)c>6+<VdL+<VdL+<VdL+<Z%S0ejdn+<VdLHlt*q1,V$N3&EHKHoX#90f(gK3B/-(Hlt1&
0H_J\HjY6D1c$6sHseX8B5_TsASuO,A0<!;+<VdL+<VdLHlt-u+<VdL+<Z%S0J5+<3&ilS1c0S?
1bLRE3&W`O+<Z%S1,M!6+<Z%=Hlt7&+<Z&>0OJp5@;I&/+<VdL+<VdL+<VdL+<Z%S0ea^m+<VdL
Hlt*q1,CdD1c[BQHoX#92D[0D1GU'qHlt1#3$9=dHjY6D1c6BuHseX8B4u4)FE_D4FCcR;+<VdL
+<VdLHlt-t+<VdL+<Z%S0J5+:2)@'L1c]qD1bLaG3AWWL+<Z%S1,:g3+<Z%=Hlt7(+<Z&>0OJ:0
Dg-(A+<VdL+<VdL+<VdL+<Z%S+?:Pe+<VdLHlt*q1,1LC0f1aEHoX&:0K:dA3Ar!&Hlt1!3$9=d
HjY6D1cHO"HseX8FD,B0FDPM2+<VdL+<VdL+<VdLHlsOl+<VdL+<Z%S0J5+80fUmE2)K\'3AiEE
3AW?D+<Z%S1,(^2+<Z%=Hlt7*+<Z&>0OJ:#BkM!"+<VdL+<VdL+<VdL+<Z%S+?1Jd+<VdLHlsOc
/ho=F1,h3OHltF,/i5OB1-$I"Hlt0u0H_J\HjY6D1cZ[$HseX8@rc:#F)Pq=+<VdL+<VdL+<VdL
HlsOk+<VdL+<Z%S+>>E&3&iZP3Au7F2(gdF3Ai]T+<Z%S0f_!3+<Z%=Hlt:#+<Z&>0OJj=H!tMu
Cis;3+<VdL+<VdL+<Z%S+?1Jd+<VdLHlsOc/ho=F1,h3OHoX&:3&NWS1cZ[$Hlt.'1a!n`HjY6D
2)-3rHseX8DfT9(B4Z*pA0<!;+<VdL+<VdLHlsOk+<VdL+<Z%S+>>E&3&iZP3Au7F2D-[?2DHsI
+<Z%S0fM!5+<Z%=Hlt:%+<Z&>0OJ='De!^%@<?''+<VdL+<VdL+<Z%S+?1Jd+<VdLHlsOc/ho=F
1,h3OHoX);1,CaD0K:0tHlt.%3$9=dHjY6D2)??tHseX8Ders#@:Njk+<VdL+<VdL+<VdLHlsOj
+<VdL+<Z%S0J5(<1cI6J2DokB2D-dG3AEBI+<Z%S0fC^.+<Z%=Hlt:'+<Z&>0OJ@%AT2^+H"(T4
AKW*<+<VdL+<Z%S+?(Dc+<VdLHlt*q0fCjI1c.*JHoX);2)[6M3B&''Hlt.$1E[e_HjY6D2)QL!
HseX8E+*QoB5_TsASuO,A0<!;+<VdLHlsOi+<VdL+<Z%S+>>E&1bga>3B)=G2D-pB2)-dD+<Z%S
0f1d2+<Z%=Hlt:)+<Z&>0OJI2Ch+Y2+<VdL+<VdL+<VdL+<Z%S+>t>b+<VdLHlsOc/ho1;1,(^I
HoX);3&ENL0fL3tHlt.#0H_J\HjY6D2)cX#HseX8Des-2AKW*<+<VdL+<VdL+<VdLHlsOi+<VdL
+<Z%S+>>E&1bga>3B)=G2D.!L2`3?K+<Z%S0f(X/+<Z%=Hlt:++<Z&>0OJ@!Ebf<.AS#a%+<VdL
+<VdL+<Z%S+>t>b+<VdLHlsOc/ho1;1,(^IHoX,<0et^I1H$?uHlt.!3$9=dHjY6D2)ud%HseX8
A79LoF(&m%Df-[?+<VdL+<VdLHlsOi+<VdL+<Z%S+>>E&1bga>3B)=G2_HjD3B8oS+<Z%S0etL,
+<Z%=Hlt=$+<Z&>0OJd-Ch7^2EcH5?Bldi.+<VdL+<Z%S+>k8a+<VdLHlt*q0ekUF2`*HNHoX,<
1H7<O1,0moHlt-u2BX+bHjY6D2DH<sHseX8A79LoB5_TsASuO,A0<!;+<VdLHlsOh+<VdL+<Z%S
0J5(72`<TO2`5tC2_HsA2)70L+<Z%S0ekC*+<Z%=Hlt=&+<Z&>0OJ@!Ebf01@;[21+<VdL+<VdL
+<Z%S+>k8a+<VdLHlt*q0ekUF2`*HNHltF./iGI?3B&''Hlt-t2BX+bHjY6D2DZHuHseX8F(Jcm
Eb/g"+<VdL+<VdL+<VdLHlsOh+<VdL+<Z%S0J5(72`<TO2`5tC2_I$G0K(aF+<Z%S0eb=)+<Z%=
Hlt=(+<Z&>0OJ7)Bk(^`Cis;3+<VdL+<VdL+<Z%S+>k8a+<VdLHlt*q0ekUF2`*HNHltF./iY^J
1GU'qHlsOl2BX+bHjY6D2DlU"HseX8DII]sC2\<0Blmo/+<VdL+<VdLHlsOg+<VdL+<Z%c/hf:B
0f(gK3B2CH2_I*J1,LjK+<Z%S+?;/!+<Z%=Hlt=*+<Z&>0OJX1B4uBsH!tS5+<VdL+<VdL+<Z%S
+>b2`+<VdLHn[0,3A`HH3B&rXHoX/=0Jk[F3B83)HlsOk2]s4cHjY6D2E)a$HseX8FDl#)FDi9E
+<VdL+<VdL+<VdLHlsOg+<VdL+<Z%c/hf:B0f(gK3B2CH3%cpB0K1dJ+<Z%S+?2/"+<Z%=Hlt=,
+<Z&>0OJ[2DKKB/ARTEu+<VdL+<VdL+<Z%S+>b2`+<VdLHn[0,3A`HH3B&rXHoX/=1,CaH2`W!'
HlsOj3?TFeHjY6D2E;m&HseX8A8c!kATD6rF_)[<+<VdL+<VdLHlsOg+<VdL+<Z%c/hf:B0f(gK
3B2CH3%d!B3A<0J+<Z%S+?)/#+<Z%=Hlt@%+<Z&>0OJX1B4uC"DerrqDK9Z+H"Cf.Dg-RO+>Y,_
+<VdLHn[0,2_[-D1cR<OHoX/=1H@HR1,C$qHlsOj0d%S]HjY6D2_cEtHseX8A79LoEb/c(+<VdL
+<VdL+<VdLHlsOf+<VdL+<Z%c/hf4<2D?sI1cTkC3%d$H0JYCC+<Z%S+>u2%+<Z%=Hlt@'+<Z&>
0OJd5DJL@;+<VdL+<VdL+<VdL+<Z%S+>Y,_+<VdLHn[0,2_[-D1cR<OHoX/=2)I!H1G^-rHlsOi
2'="aHjY6D2_uR!HseX8Ao)C+@;L.$Blmo/+<VdL+<VdLHlsOf+<VdL+<Z%c/hf4<2D?sI1cTkC
3%d*D0f1[G+<Z%S+>ttt+<Z%=Hlt@)+<Z&>0OJX1B4uC+Bl7]/+<VdL+<VdL+<Z%S+>Y,_+<VdL
Hn[0,2_[-D1cR<OHoX/=2E3HG1c$6sHlsOh3?TFeHjY6D2`2^#HseX8A79LoDfT9(B4W2.+<VdL
+<VdLHlsOf+<VdL+<Z%c/hf4<2D?sI1cTkC3%d-I1,^sK+<Z%S+>l&"+<Z%=Hlt@++<Z&>0OJ[2
F*)\JDf]J4+<VdL+<VdL+<Z%S+>Y,_+<VdLHn[0,2_[-D1cR<OHoX/=3&39F2)??tHlsOh1E[e_
HjY6D2`Dj%HseX8CM7-lBcnN@+<VdL+<VdL+<VdLHlsOf+<VdL+<Z%c/hf4<2D?sI1cTkC3%d0N
1H76N+<Z%S+>khq+<Z%=Hlt@-+<Z&>0OJ@%AT2U&DJL@;+<VdL+<VdL+<Z%S+>Y,_+<VdLHn[0,
2_[-D1cR<OHoX/=3Ar]N2DQBtHlsOg2]s4cHjY6D2`W!'HseX8E+*QoG%kl2ATVs(A0<!;+<VdL
HlsOf+<VdL+<Z%c/hf4<2D?sI1cTkC3A*!A2)$pI+<Z%S+>bnt+<Z%=HltC&+<Z&>0OJm4@<6*n
Cht4:+<VdL+<VdL+<Z%S+>Y,_+<VdLHn[0,2_[-D1cR<OHoX2>0ebIC2_lKuHlsOg0d%S]HjY6D
3&)NuHseX8Eb/c(+<VdL+<VdL+<VdL+<VdLHlsOe+<VdL+<Z%c/hf+@0K(pN3B;II3A*$D1,h$F
+<Z%S+>Yu"+<Z%=HltC(+<Z&>0OJ[.A8-1'FEMVDF`1u8AKW*<+<Z%S+>P&^+<VdLHn[0,1cI*H
3B0#ZHoX2>0f_6R0esjoHlsOf2BX+bHjY6D3&;["HseX8D.R6lF_u)?Ec>i++<VdL+<VdLHlsOe
+<VdL+<Z%c/hf+@0K(pN3B;II3A*'D2E3ZO+<Z%S+>Yhs+<Z%=HltC*+<Z&>0OJd8F_r6D+<VdL
+<VdL+<VdL+<Z%S+>P&^+<VdLHn[0,1cI*H3B0#ZHoX2>1-%-N2)69sHlsOf1*@\^HjY6D3&Mg$
HseX8A79Lo@Vg0u+<VdL+<VdL+<VdLHlsOe+<VdL+<Z%c/hf+@0K(pN3B;II3A**E0eb@;+<Z%S
+>Y\o+<Z%=HltC,+<Z&>0OJa=@q]Re+<VdL+<VdL+<VdL+<Z%S+>P&^+<VdLHn[0,1cI*H3B0#Z
HoX2>1H7?J3ADX!HlsOe3$9=dHjY6D3&_s&HseX8D.R6lF_tT(F_)[<+<VdL+<VdLHlsOe+<VdL
+<Z%c/hf+@0K(pN3B;II3A*-E2).!D+<Z%S+>Pht+<Z%=HltC.+<Z&>0OJ[.A8-1'F(JcmEb/g"
+<VdL+<Z%S+>P&^+<VdLHn[0,1cI*H3B0#ZHoX2>1cR6G1GL!pHlsOe1a!n`HjY6D3&r*(HseX8
Ch[NqFEqG6Ci=M?+<VdL+<VdLHlsOe+<VdL+<Z%c/hf+@0K(pN3B;II3A*0E3AW?D+<Z%S+>P\p
+<Z%=HltF'+<Z&>0OJ@!Ebfc>EcH5?Bldi.+<VdL+<Z%S+>P&^+<VdLHn[0,1cI*H3B0#ZHoX2>
2)dEL2_cEtHlsOe0H_J\HjY6D3ADX!HseX8DfT9(B4W2.+<VdL+<VdL+<VdLHlsOe+<VdL+<Z%c
/hf+@0K(pN3B;II3A*3F1GgpC+<Z%S+>Ghu+<Z%=HltF)+<Z&>0OK*:Ci"$6+<VdL+<VdL+<VdL
+<Z%S+>Fu]+<VdLHn[0,1,CdD1c[BQHoX2>2Dd<P2`;d$HlsOd2BX+bHjY6D3AVd#HseX8D.R6l
F_u&;@q]Re+<VdL+<VdLHlsOd+<VdL+<Z%c/hf%:2)@'L1c]qD3A*3K0JtR>+<Z%S+>G_r+<Z%=
HltF++<Z&>0OJ=.Ec,r4Chk.9+<VdL+<VdL+<Z%S+>Fu]+<VdLHn[0,1,CdD1c[BQHoX2>2E<TJ
1c?I!HlsOd1a!n`HjY6D3Ahp%HseX8H"Cf.Dg,i7AS#a%+<VdL+<VdLHlsOd+<VdL+<Z%c/hf%:
2)@'L1c]qD3A*6F2`3QL+<Z%S+>GYp+<Z%=HltF-+<Z&>0OJ[.A8-1'@<$EuD..I!DIjq5+<Z%S
+>Fu]+<VdLHn[0,1,CdD1c[BQHoX2>2`*6D0fC-sHlsOd1*@\^HjY6D3B&''HseX8A79LoD..'g
DKK;0+<VdL+<VdLHlsOd+<VdL+<Z%c/hf%:2)@'L1c]qD3A*6K1c@3G+<Z%S+>GSn+<Z%=HltF/
+<Z&>0OJL3FDtr3CEO`B+<VdL+<VdL+<Z%S+>Fu]+<VdLHn[0,1,CdD1c[BQHoX2>2`NcO3&Mg$
HlsOd0H_J\HjY6D3B83)HseX8@VfIj@q]Fa@;Ke!DIak4+<VdLHlsOd+<VdL+<Z%c/hf%:2)@'L
1c]q+3B8]O0ekUB+<Z%S+<WZe+<Z%=Hnd</+<Z&>0OJ[8@q/qgBl5%9+<VdL+<VdL+<Z%S+>Fu]
+<VdLHn[0,1,CdD1c[BQHoX2>3&<EI2)QL!HlsOS3$9=dHjY6U0JO[mHseX8Ch[`tB6%QpDBL&E
+<VdL+<VdLHlsOd+<VdL+<Z%c/hf%:2)@'L1c]q+3B8]O2)mNT+<Z%S+<WTc+<Z%=Hnd<1+<Z&>
0OJX)G%GQ%ATD6rF`V4=+<VdL+<Z%S+>Fu]+<VdLHn[0,1,CdD1c[BQHoX2>3&iZL1,U0sHlsOS
2BX+bHjY6U0JagoHseX8@Vg0u+<VdL+<VdL+<VdL+<VdLHlsOd+<VdL+<Z%c/hf%:2)@'L1c]q+
3B8]P0JtgJ+<Z%S+<WNa+<Z%=Hnd<3+<Z&>0OJX1B4uC.ART4lAS#a%+<VdL+<Z%S+>Fu]+<VdL
Hn[0,1,CdD1c[BQHoX2>3ANTN3Ahp%HlsOS1a!n`HjY6U0JssqHseX8DII^6+<VdL+<VdL+<VdL
+<VdLHlsOd+<VdL+<Z%c/hf%:2)@'L1c]q+3B8]P2)70J+<Z%S+<WH_+<Z%=Hnd<5+<Z&>0OJm;
@<?'iCis;3+<VdL+<VdL+<Z%S+>Fu]+<VdLHn[0,1,CdD1c[BQHoX2>3B&iQ2DlU"HlsOS1*@\^
HjY6U0K1*sHseX8AoD^$F*)&8AS#a%+<VdL+<VdLHlsOd+<VdL+<Z%c/hf%:2)@'L1c]q++<VdL
+>GQ(+<Z%S+<WB]+<Z%=.kN>)/M/J)/M/P+/M/P+/M/P+/M/P+/M/P+/M/J)/M/P+/M/P+.kN>)
/M/P+/M/P+.kN>)/M/P+/M/P+.kN>)/M/P+.mn>g@<?'TBl\64EaNm-CbdkXEb/[$AKZ)'@VfTu
9Q+ELCf"P^BFP:k+=Kp%@ps1M@<?0S6m-2]FCf)rEZf7<F<GIDCht55EbTB!Ed8dCAU,g9$6UH6
9Q+ELCf"P^BHVD.G]Y'GDfd+>F_kkC3t2N+$=e*f@<?''FCAWpAKXcdCh[cu94`BmDfT@t$6UH>
94`BmDfTA2FCf]=+Du+>+Du=<C`m\;Bl.:!Gp$m6Gq9C3+<Ve"AU-acAT;j(DI[r7Bl8$(B4Z*+
DJsV>DKTc3.6@tG+<Vd9$=e*f@<?''FCAWpAKX9T@WcMs$6UH>6#:"QD+eGc+EV1>F<GI>F<GID
Cht55EbTB!Ed8dCAU,g9$6UH69Q+ELCf"P^BLtT7Bl8$(B4Z*+DJsV>DKTc3/.Dq/+<X?dF*(E$
A79RkA0>DkFCd!4$6UH66#:"QD,+MVAKZ)+G]YJG$6UH66#:"QD+%rV@rc:&FD5Z2+EV1>F=[k.
+<Ve=DfTE'B5Si-AU,[tDe!3l:gnHZ8OP!MEb/ioEb0,uATJtfDe!3lAPcfWBIHPm@ps1M@<?0S
6n'QH%13OO@rc-hFCcS:@:F%a+AZlkBl7KRD..'g%144#-qS8aB4X_IGp%3?G]Y'GDfd+>F_kk:
E,oZ0@<-W9CLqcB%144#+@0gQF_sc_Gp%3?G]Y'GDfd+>F_kkF%144#+AZlkBl7KRD..'g7VQ[M
+EV1>F=[k.+<Ve$Bl\64E_1+VB4XPHCh4`2AU&;J%144#+@1$XBPDX$A5,HL+EV1>F=[k.+<Vdm
EarcsG%G2_BmO>5Bl8$(B4Z*7%144#+A?3cBlnK.AKYT$Ddd`=%144#+A?]kB5)I1A7ZlqCi<a(
/.Dq/+<WsdFD5i>A7ZltDKKH&ATB=2$6UH6:NC/^Bl7?q87cLJBQPA2DKKH&ATB=2$6UH6:NC/^
Bl7?q=(u2eBHV#,FCf)rE\%Y,+<Ve)ARTCC@<?''A79Rk/.Dq/+<X['Ci<`m6t(1K+Cno&ALn8t
+<Ve#@<6NjE+EC!ARloo@<?'3%144#+B<Gr+EV1>F=[k.+<Ve+BQ\0$DII6q<H;muFCf]=/.Dq/
+<X<gH$=1IA9/l8AU&;J%144#+@BRVFD5Z2+EV1>F=[k.+<Ve=DfTE'B5Si-AU,[iCgqO(94`At
+ED%*ATD@"@qB^(6#:"QD(%\d@WcN\AU,^R3t2N+$=e*f@<?''FCAWpAKXQ]@:s.;CgqO(=E4iX
+<W((D..'g94`AkFCf]=+Du+>+Du=<Cb-#&+<VdmCgqO(94`AkFCf]=+Du+>+Du=<Cb-\<$6UH6
E,oZ0@<-W9CLqc>8SqmKAP6T[/0I5p@WcN\AU,^U%144#+D,P4ASGdp+DYP6-p_ZYF_sc_GpskV
AS,LoASu!hF!*bb@WcN96#:"QD+eGc.4bo8+<Ve=DfTE'B5Si-AU,[qD..'g94`At+ED%*ATD@"
@qB^(:Msu_DIlCV@:s."8SqmKAP6T[.4I=f$4R>PEb/[$AKZ)'@VfTu8SqmKAP6T[GAhM4=E4iX
+<W((D..'g94`AkFCf]=+Du+>+Du=<Cb-#&+<Ve"AU/K<Eb$;7AU&;>DJsV>DKTc3/.Dq/+<YWD
Bl.:!Gp$m6Gpl7$@:s.EAU,gL94`BmDfTA;/.Dq/+<Y97Eb/rtDBN_+Gpl<sH$=1IA18XAAS,Lo
ASu!hF!+7rCh[cu94`BmDfTA:94`BmDfTA;/.Dq/+<Y97Eb/rtDBN_+Gpl7$@:s.EAU,^IEb/io
Eb0,uATJtiDJX$)AP$`IB4WJ_D..'g94`At.6@tG%16TcART[l+EV%$Ch4__De!3l8SqmKAISth
+=Kp%@ps1FD..'g8OO\8DKKH&ATAo2Dfd+>F_kk:E,oZ0@<-W9CLqcB%144#+A?]`@;JbKFD+66
+DG_8AS5Rp+Du+>+Du=<Cb-#&+<Ve#De!3l8SqmKAO^BMAKZ)+G]Y'GDfd+>F_kkF%144#+A$EY
B4X_IGp%3?G]YJG$6UH6<+pDk@WP732'@!PG]YJG$6UH6AoD^$BkM<+CLqc>9Q+ELCf"P^BLtT@
+ED%*ATD@"@qB^(9Q+ELCh6FOFD*'rDe!3l:gnHZ8OP!V4&A^O<*r@6EcQ)==E7tb1,2Nj/l5>B
<*r@6EcQ)==E7tb+E27?F<GOCDe!@"F)Q(O+:SYe$?L'&F`_SFF<E7[3Zp*c$;No?+DG_8ATDBk
@q?d,DfTA:F"'-Z$;No?+<Ve#Ddd0NBl\64E`d?nAjg)N+AP6U+Dbt)A9/l2ATo86Bl\64EZek4
Df]tBEb/ioEb0,uAKYMlFCAWeF(Gdf.1HUn$=e!aF`MM6DKI!K@UX=h-OgDX67sBjDeX*1ATDl8
+=BltEcQ)==E7tb-OgCl$>jKtEc5tuF(KAbAU/>P0ht%f+E_a:Ebf63F"Us7B+52C67r]S:-pQU
;e9M_GA1i,+E1b%AKZ2@G:mWODe=*8@<,p3@rH3;C3OB-BeMu!Bk1dr010YqAnbm28l9[`<HD_l
94`Bi%15is/g+S=F)O)^BQS?83\N.$F)PZ4G@>N'/n8g:05#!@Ch[s406))JA7[B+Bll";Ci<c9
D..L-ATBG?Bjr`)@<6!5F`V,7CLqd4/n8j>%15is/e&._67sBLG[YH.Ch7ZK%15is/g)9+1HR<Q
9keKVF*D2,E+O&OCi<`m+=DVHA7TUrF"_07D.RcAD/!m!F*D2,E+O&CF_Q&1/no'A-OgDX67sB'
6Zd?b.nD`U4%F+*F)tc1GroJUDg-86?YWpqBQS?83\N.1GBYZSF)PZ4G@>N'/n8g:05>]FCM>G&
De!3bF_kK,GqV[(Df]u.Ed9#A$;No?%15is/g)?*FE21J7Q)G"$;No?+<j0pEbm7)BPD(#.n2E@
%15is/g)?:BPD(#.n2E@%15is/g)?-2^/\<:-pQU,"$HmCb%t6+q4lS67sB)6Zd?b.oU+qAooOm
2^/\<:-pQU,#`/hAooOm2^/\<%15Q[4#&fpASkjkAKX?_EcP`/F?=P`CiX*.ATV9uF)c#1FCef%
-RU$@+Db\>+DPh*B-:D$@r,^bEZc_W%15IEEbm6q1-73P;e:%n6ZmEiASuTOEcW?NE,o]1Bl\64
E[Mu6+E(d5-Za-IB5i-<ATB.@>9G^EDe't<-OgDMFE21J;eTlWF=Tg94#&fbF_u(?:j$kAEcW?N
A9Da.E-67M%15Q\4#&fpAT;j,Eb-@c:II9bAT;j,Eb-@@B4YslEa`c;C2[W1%15IEEbm6q1HR<Q
;Is?`@r,^!8l%i:-u*[2Df-[K+DPh*De<T1+>F<4;eTlWF=Tg:4#&fh:IH<rASc<IC2[WrASc<.
0F\@Y1cmBQ6tKhMB-:)pDEDB<Ecl7B-RT?17Q*=_4&fd4F<FM!DeioG>piB=9i)sRD/X3$+EV19
F=.M);eTlWF=Tg=4#&frATMr96=FqL@ll&58PN#(@UX=l@j#l)F*&dKEb]H*EcQ)=1,2Nj/h1g\
C2I[*Ec5t@F"JsdF(KH9E$.khEcQ)==E7tb+E2@>C1Ums/e&-s$=e!aF`MM6DKI!K@UX=h-OgE$
A0<rp-Za-IB5i-<ATAo9FD5Q4-QlV91E^UH+=ANG$>OKiB4#@fDe*3<3ZoeEBl\64E`d?nAg\#p
%17/eEaNNqDe*3<3Zoe[3\PPkF_>Q*EcQ)=05YEDEc5tG+<VdL+<VdL+<VdL+<VdL+<VdL+<XEG
/g,"FEcQ)=+Co2,ARfh#Ed8*$F)kbtBkhQs?TgFm-Y#1jFD,f6@WQ'hF"_`UEbfB,B/2.q3%f;l
A7@N>-QjNS+<VdL+<VdL:-pQUFD,f6@WQL)F`S[9@LWZdEbA`nC2[Wi4ZX]5@lc8aD09K.Bl\64
E\CsA@s)X"DKKqQG]IA-A7@3/Bl\64E\:m3-QjO,67sBtBl\64EZen%%13OO:-pQUCi<`m+E_a:
Ap%o4F`_>6F!,17FDi9MBkhQs.1HVZ67sB.BkhQs-Qm&5F<Gua+D5_6+=CfBE+<]mF)uJGBl%i<
%15is/g)NUC2[W1+D58-+FPjbB6%r6-Y-[tG]Y;B$;No?+=Cl<De(4<B4Z0-I4cXTEc<-KA7]su
Blmp$F(96)E-*H:$7BP&De(4<B4Z1*GT](/-ZjDPAnQ-,BkCj&+:SZQ67sC%ATT&9D09fCFCfJ8
F`V,7+DYP6Et&ItD/XQ=E-67F-ZsKAE_BthF!,L7F(KG@%14M*Db*Z&<$47FHTE9#+>G!XBk(p$
1a$FBF<DrJBl\64E`I0lE_BthF!iCZGB.D>AKY`,@<?0*-[oQDDJ!Tq06M>IEbf63F"Us7B."f2
$?L'&F`_SFF<Dr*Bl\64E`d?nAfu&5De`inF<GX9FEMOME,o]7D09K1H$!V<1,2Nj/h1g\C3+67
B5i-<ATAo7/M/)dATW'6+EMCBB5i-<ATAo4Ec5](@rs=4$4R>PDe!p1Eb0-1+=CW,F(H^.$?'Gt
4$"a1D09K1H$!V<+E_d?Ci^sH>9G^EDe't<-OgDtDe*KfBkhQs?TgFm-W=l)B2EkqATB.-$;No?
+Dbt)A0?#9AS-($+E_d?Ci^_5DKKe>-u!F7A17rp:-pQU-Y[=6A1&L4ATT&C/g+eIE$-N@Ec>N)
@<6L4FD5Q4-OgDX67sB.BkhQs-Qm&5F<Gua+D5_6+=C]/AU&;E%15is/g)NUC2[W1+D58-+FPjb
B6%r6-Y-e4BPDR"C3*m*BlJ/A%14IsC2[W1+D58-+=D8P-OgD1BkhQs-Qm&5F<DrMEbTE5F(or3
CLqcu@UX=l@ru:'FC\g%@4*0?%15is/g,4HF<GXAF`;VJATAo9F(KA7CLqd4%17/nDfp/@F`\`R
F`V,794`Bi+ED%7ATT:/$7L"785E/`+?L]m3Zosr0d(FL@r!2D+D58-+=D5IF_>Z=FCfJmF(KAb
AU/>E.3NhTBlmo/C2dU'BHS[O@rH6sBkK)AF(KB-AU/>L@qK@$+:S[!D/XQ=E-67F-Za-IB5i-<
ATAo4Ec5](@rri7ATW'6+=D5IF_>Z=FCfJmF(KAbAU/>P2,6Ij+E_a:Ebf63F"Us7B+52C67r]S
:-pQU;e9M_GA1i,+E1b%AKZ2@G:mWODe=*8@<,p3@rH3;C3OB-BeMu!Bk1dr010YqAnbm28l9[`
<HD_l94`Bi%15is/g+S=F)O)^BQS?83\N.$F)PZ4G@>N'/n8g:05#!@Ch[s406))JA7[B+Bll";
Ci<c9D..L-ATBG?Bjr`)@<6!5F`V,7CLqd4/n8j>%15is/e&._67sBLG[YH.Ch7ZK%15is/g)9+
1HR<Q9keKVF*D2,E+O&OCi<`m+=DVHA7TUrF"_07D.RcAD/!m!F*D2,E+O&CF_Q&1/no'A-OgDX
67sB'6Zd?b.nD`U4%F+*F)tc1GroJUDg-86?YWpqBQS?83\N.1GBYZSF)PZ4G@>N'/n8g:05>]F
CM>G&De!3bF_kK,GqV[(Df]u.Ed9#A$;No?%15is/g)?*FE21J7Q)G"$;No?+<j0pEbm7)BPD(#
.n2E@%15is/g)?:BPD(#.n2E@%15is/g)?-2^/\<:-pQU,"$HmCb%t6+q4lS67sB)6Zd?b.oU+q
AooOm2^/\<:-pQU,#`/hAooOm2^/\<%15Q[4#&fpASkjkAKX?_EcP`/F?=;OINWBDA7m#h+Cf5!
@<*J<-OgDMFE21J7P[%[4&]^4+@C9lEb0-14*#Bb-ZF*@F)?&4E-ZP:E[Mu6+E(d5-Za-IB5i-<
ATB.@>9G^EDe't<-OgDMFE21J;eTlWF=Tg94#&fbF_u(?:j$kAEcW?NA9Da.E-67M%15Q\4#&fp
AT;j,Eb-@c:II9bAT;j,Eb-@@B4YslEa`c;C2[W1%15IEEbm6q1HR<Q;Is?`@r,^!8l%i:-u*[2
Df-[K+DPh*De<T1+>F<4;eTlWF=Tg:4#&fh:IH<rASc<IC2[WrASc<.0F\@Y1cmBQ6tKhMB-:)p
DEDB<Ecl7B-RT?17Q*=_4&fd4F<FM!DeioG?#XguDKKr6H=^l'Gp%'HBl8$6BmO?+AU.Wl@<6-m
FCfN8A79Rg%16$IBkDH;7Q*=_4&fd4F<EnYF(o,G0d(LYF<DrMEbTE5F(or3CLqcu@UX=l@k]Sa~>
)
showpass 4 put ". ".'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:''
zz=:zz,'(<<;._1 '' MirrorXref CR CreateMirrorXrefDb CreateMirror_sql IFACEWO'
zz=:zz,'RDSMirrorXref LF LoadAlbum LoadImageAlbumXr LoadImageKeywordXr Load'
zz=:zz,'LocalPath LoadMirrorXrefDb LoadOnlineImage LoadOnlineKeyword Mirror'
zz=:zz,'ImageXrTables ROOTWORDSMirrorXref RealDateFrManifest afterlaststr a'
zz=:zz,'fterstr allwhitetrim assert beforelaststr boxopen charsub fboxname '
zz=:zz,'fexist insqltd ofreq readtd2 reb smoutput tolower tslash2''),(<<;._1'
zz=:zz,' '' SmugPyter MirrorImageXrefTables MirrorImages MirrorKeywords Mirr'
zz=:zz,'orMD5s NOPIXELSKEY NORATIOKEY SMUGAREAROUND SMUGASPECTROUND SMUGPRI'
zz=:zz,'NTDPI SMUGPRINTSIZES SMUGPYTERSIZES allwhitetrim assert charsub deg'
zz=:zz,'eotag dpiarearatio geotag lastones ofreq printsizekey printsizestab'
zz=:zz,'le readtd2 rekeyword round sortprintsizes tlf tslash2''),<<;._1 '' sm'
zz=:zz,'ugpyter SMUGAREAROUND SMUGASPECTROUND SMUGPRINTDPI SMUGPRINTSIZES a'
zz=:zz,'ssert charsub printsizestable round smugprintsizes''                '
zz=:855{.zz
showpass 2 grp&> ". ". 'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:dec85__MK__JODobj 0 : 0
0eje*+>P&o0H`,,1,)F:EcQ)==E7tb:-pQ_9keWgDfSs#AS*'+/M/)TEb/[$AKYE!A0>],@:UL%
EGT?2AKYi(EcQ)=+CfG1F)rIEAS,LoASu!h+Cno&@:EYdAM+E!:-pQB$;No?+Eh=:@UX@mD)r+5
:-pQB$;No?+DG_8ATDBk@q?d,DfTA:F"'-m%15is/g)_t/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+
/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P++<VdL+<VdL
+<VdL+<VdL+<VdL+<VdL+<VdL+<VdL+:SZQ67sBSDdd0NBl\64E`d?nAjg)N/KekJ@:XF%DIn#7
D/"$2DfQt1Ec6#?+ED%*ATD@"@q?cn@<>pe@<5uh$;No?%15is/g+YEART[lA3(hg0JPP%F`&lk
%15is/g)_t/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+/M/P+
/M/P+/M/P+/M/P+/M/P+/M/P+/M/P++:SZQ67sB90JPP%F`&lk+D5_5F`8I5CghC++CfG'@<?'k
%13OOEb065Bl[c--Y-Y-@4u\ACh\!&-OgCl$;No?+Cf>"CghC++=BltEcQ)==E7tb-Qij*%15is
/h1CCE+NotASuU2%15is/g)Pl.6T^76ZQaHFCe0\EcQ)=?ZU4'%15is/h1FMA7T7jASu$iDKKq/
$4R=O$;No?+EM%+ASkiuDe:,/Bl\64E\:m3+Cno&@:EYdAISu6Eb/[$APHlZEc5u*F)c"Z3Zoh)
+?CW!.1HVoEb/[$AKZ)'@VfTu9Q+ELCf"P^BFP:k+=Kp%@ps1M@<?0S6m-2]FCf)rEZf7<F<GID
Cht55EbTB!Ed8dCAU,g9$6UH69Q+ELCf"P^BHVD.G]Y'GDfd+>F_kkC3t2N+$=e*f@<?''FCAWp
AKXcdCh[cu94`BmDfT@t$6UH>94`BmDfTA2FCf]=+Du+>+Du=<C`m\;Bl.:!Gp$m6Gq9C3+<Ve"
AU-acAT;j(DI[r7Bl8$(B4Z*+DJsV>DKTc3.6@tG+<Vd9$=e*f@<?''FCAWpAKX9T@WcMs$6UH>
6#:"QD+eGc+EV1>F<GI>F<GIDCht55EbTB!Ed8dCAU,g9$6UH69Q+ELCf"P^BLtT7Bl8$(B4Z*+
DJsV>DKTc3/.Dq/+<X?dF*(E$A79RkA0>DkFCd!4$6UH66#:"QD,+MVAKZ)+G]YJG$6UH66#:"Q
D+%rV@rc:&FD5Z2+EV1>F=[k.+<Ve=DfTE'B5Si-AU,[tDe!3l:gnHZ8OP!MEb/ioEb0,uATJtf
De!3lAPcfWBIHPm@ps1M@<?0S6n'QH%13OO@rc-hFCcS:@:F%a+AZlkBl7KRD..'g%144#-qS8a
B4X_IGp%3?G]Y'GDfd+>F_kk:E,oZ0@<-W9CLqcB%144#+@0gQF_sc_Gp%3?G]Y'GDfd+>F_kkF
%144#+AZlkBl7KRD..'g7VQ[M+EV1>F=[k.+<Ve$Bl\64E_1+VB4XPHCh4`2AU&;J%144#+@1$X
BPDX$A5,HL+EV1>F=[k.+<VdmEarcsG%G2_BmO>5Bl8$(B4Z*7%144#+A?3cBlnK.AKYT$Ddd`=
%144#+A?]kB5)I1A7ZlqCi<a(/.Dq/+<WsdFD5i>A7ZltDKKH&ATB=2$6UH6:NC/^Bl7?q87cLJ
BQPA2DKKH&ATB=2$6UH6:NC/^Bl7?q=(u2eBHV#,FCf)rE\%Y,+<Ve)ARTCC@<?''A79Rk/.Dq/
+<X['Ci<`m6t(1K+Cno&ALn8t+<Ve#@<6NjE+EC!ARloo@<?'3%144#+B<Gr+EV1>F=[k.+<Ve+
BQ\0$DII6q<H;muFCf]=/.Dq/+<X<gH$=1IA9/l8AU&;J%144#+@BRVFD5Z2+EV1>F=[k.+<Ve=
DfTE'B5Si-AU,[iCgqO(94`At+ED%*ATD@"@qB^(6#:"QD(%\d@WcN\AU,^R3t2N+$=e*f@<?''
FCAWpAKXQ]@:s.;CgqO(=E4iX+<W((D..'g94`AkFCf]=+Du+>+Du=<Cb-#&+<VdmCgqO(94`Ak
FCf]=+Du+>+Du=<Cb-\<$6UH6E,oZ0@<-W9CLqc>8SqmKAP6T[/0I5p@WcN\AU,^U%144#+D,P4
ASGdp+DYP6-p_ZYF_sc_GpskVAS,LoASu!hF!*bb@WcN96#:"QD+eGc.4bo8+<Ve=DfTE'B5Si-
AU,[qD..'g94`At+ED%*ATD@"@qB^(:Msu_DIlCV@:s."8SqmKAP6T[.4I=f$4R>PEb/[$AKZ)'
@VfTu8SqmKAP6T[GAhM4=E4iX+<W((D..'g94`AkFCf]=+Du+>+Du=<Cb-#&+<Ve"AU/K<Eb$;7
AU&;>DJsV>DKTc3/.Dq/+<YWDBl.:!Gp$m6Gpl7$@:s.EAU,gL94`BmDfTA;/.Dq/+<Y97Eb/rt
DBN_+Gpl<sH$=1IA18XAAS,LoASu!hF!+7rCh[cu94`BmDfTA:94`BmDfTA;/.Dq/+<Y97Eb/rt
DBN_+Gpl7$@:s.EAU,^IEb/ioEb0,uATJtiDJX$)AP$`IB4WJ_D..'g94`At.6@tG%16TcART[l
+EV%$Ch4__De!3l8SqmKAISth+=Kp%@ps1FD..'g8OO\8DKKH&ATAo2Dfd+>F_kk:E,oZ0@<-W9
CLqcB%144#+A?]`@;JbKFD+66+DG_8AS5Rp+Du+>+Du=<Cb-#&+<Ve#De!3l8SqmKAO^BMAKZ)+
G]Y'GDfd+>F_kkF%144#+A$EYB4X_IGp%3?G]YJG$6UH6<+pDk@WP732'@!PG]YJG$6UH6AoD^$
BkM<+CLqc>9Q+ELCf"P^BLtT@+ED%*ATD@"@qB^(9Q+ELCh6FOFD*'rDe!3l:gnHZ8OP!V3t2NG
%13OO                                                                     ~>
)
showpass 2 put ". ".'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:dec85__MK__JODobj 0 : 0
3?U%!1*A;*+>biJBl\64E`d?nAn,jm@<?''@;]TuCi<`m+EMO=Blmo/D/"$2DfU)CAS*&q@<>pe
@<5u                                                                      ~>
)
showpass 2 8 put ". ".'zz_',SOLOCALE,'_' [ cocurrent 'base' NB.{*JOD*}
".soclear NB.{*JOD*}

cocurrent SO__JODobj NB.{*JOD*}
zz=:fromascii85__MK__JODobj 0 : 0
1E\P#-p0UR/mg=U-Qk]k@WcNiEb/i*6W6oj6Z6dZEcW?jEb/[$APHlZEc5u#Eb/iN@N\$YART[l
9keWgDfT3+EGQacDf'3+@;^0SDes?4:hFqp7<ioVEb/i*8Oc!579<8_6rQfoEcQ)==E7tb+A?]^
A3k$@F_r6pDdd0JD..'g6#:"QD-1g$9Q+?M8SqmKAP6T[GAhM4=E5NXDdd0MDe!3l:gnHZ+A?]^
A5-cYEc5u#Eb/iN@N\?_@:W/OCh[cu8SqmKAKXZb@:W/OCh[cu94`BmDfTA29keWgDfSEd@:s.N
@:F%a+AHQjEc5tiD..'g=E7AL@VfUs+AHQjEc5tiD..'g=E7tb<+06PATJtgBl\64E_1+VB4Z-,
9keWgDfSK^H$=1IA9/kfBl\64E_SqZ+AHQjEc5tm6oB$.9keWgDfSs#AS*&[:JaVb78-WQ79La.
:JsJX8P_uJ=WgOLFD+csAS*&_:JXqk:JsSZ9keWgDfSs#AS*&_ARTCC@<?'ME_Tt[BkCptF<FLV
<C]>Q76sgI<DGq);b^7^5uUTK6W?rZ<DGq);b^7^:f9k[<('PS+B)!77o3)T:/k.`>")@4;b^7^
:g$ad;H$.j78k=-<_$LaDes?4F!+M%CisT+=E7tb+BLuu?Vl#8Des?4F!+t2Ci=?0AU.m.AT8i&
Eb/[$APHlZEc5u#Eb/iN@N]0$ART[l9keWgDfSs#AS+nM@VfUs+Co%rAT)[!B-:`(Bjl$n@<,du
Bl>,+D00Q)H#k*@AT)[!B-:o*@:s.M@q]Fj@:+(qC`mG0F)c#<A0>i3Bl8$6BmO?+AU,D;EbTE5
F(or3CLqcu@UX=l@ru:'FC\g%@3BN0Bl8$6BmO?3FCAWpAKZ#)CLqd8DfTA2F)?&4E,oZ1FE;/B
ATJu8DfTr=EbTE5F(or3F!iCf-p0%C-ZF*?DKKr6H=^l'H!b#hF(o,<0IJ;#-p0UR/mg=U-Ql,t
EcQ)==E7tb+B*-"B2EkqATAo7D09K1H$!V<-RgSp4>8$7.4cl04?G0&0d%hd6"F_QF*'fgD/!lr
DKJ6aCi=?8?Z^O7+@C0\@<?'TBl\64EaNm-C`lPM;cI*uBl\64E`d?nAftr)EcQ)=<HD_l94`Bi
+E2@9D/"$2DfQt>Eb]Z4F_>Z=FCfJ8F)?&4E-ZP:E`I0lE_BthF!iCf-p07-2)$:20JPO@1,(L:
1c-mC0K;$J+>PW*3&!-B2_I!G1,:jK0KCs41,(FB0K(XE/iGUD1b^pI1H?R50JPO@2DI-C2Dm6F
2`EHN2]sk00fUjC0fL^D3B/lO3&EKQ+>PW*3&!*A1G1L@0JkIC3&;[40JPO@2DI-C2Dm0C1GpsD
1E\G,0fUjF0fL^B0K(jE2Dm3I+>PW*3&!6F3A*9O1c@<K0et^21,(FB0K([@/iY^E2D?mD1,U10
0JPO@2DI-C1cI*H3&!<K1a"P-0fUjF0fL^C3&`TO3&ifT+>PW*3&!6F3A*9O1bgpK1GCg31,(FB
0K(XE/iGCA1,(C<0eje+0JPO@2DI0D3&<NJ3AEEK1*A>+0fUjF0f(FA1GLX=0K:mI+>PW*3&!6E
2(gjD3&`TP0JkR.1,(FB0JP@;/iY[B3A<<H2)ud70JPO@0f(L93&**@1c[?H3$9t10fUjA1GCF@
2)-sK2)-sD+>PW*3&!'C0J5=B1H@-G1Gpp11,(FB0JY=</i5C=1b^mK1E\G,0fUjA0eb4=2)@*M
2E!HP+>PW*3&!'A0J5:A1H%3K0f_*61,(FB0JY=</i5C=1b^mK1E\G,0fUjF0fL^C2)$a@2)@!D
+>PW*3&!6F1G1XC0KD$J0JtR-1,(FB0K(XA/iP^J0ekI?1,9t-0JPO@2DI!?2`EZM0f([C0d&5*
0fUjA0Jb=?2D[*E0f_!E+>PW*3&!'@1G1UH3AWBK1,q$31,(FB0JP::/ibjN3AiNF3B83;0JPO@
1GCa?2Dm9H2E*TS+>PW*3&!*A1G1L@0JkIC3&;[40JPO@1GCa?2Dm<K3&`ZK3$9t10fUjC0fL^D
3&i`N1G^pL+>PW*3&!6E2D-sC1,1RE2DR'21,(FB0K(UC/iYR>2Dm9K1c?I30JPO@1,(U=3A<BH
1H@3K+>PW*3&!'@2(ggG2E<]U0JP:)1,(FB0JbC=/iPL@3AiTI1cZ[60JPO@1,(U=3A<BH1H@3K
+>PW*3&!6E2D-pK1cI*J1,h$41,(FB0K([?/iPXC3ArQO0JXb+0JPO@0ek@72`3BF2)@6J1*A>+
0fUjA0eb4=2_d$D3&3BK+>PW*3&!'@1bL^F2E*HP3&<931,(FB0JY=?/ibUE0f(gF2BXb/0fUjA
0Jb=?2E<WS1b^pK+>PW*3&!'@1bL^F1GLdH1c-p01,(FB0JY=</i5C=1b^mK1E\G,0fUjC0K1UB
2)6pI2_[6K+>PW*3&!6F2_I!I2)I<L0fL410JPO@2DI-C2Dm6F2`EHN2]sk00fUjC0fL^D3B/lO
3&EKQ+>PW*3&!*A1G1L@0JkIC3&;[40JPO@2DI-C2E<cW1,1RC1a"P-0fUjF1,(=>2*!KN1,V$G
+>PW*3&!6G0ePF>0ebUF1c@-41,(FB0K([@/iYaG1,V$G1,U100JPO@2DI-C1cR0E0K(aC1E\G,
0fUjF1,1C@2)[-D0K:mH+>PW*3&!6G0ePCF3&!3H2)d951,(FB0K([?/iYO?1b^mF2`W!90JPO@
2DI3E3&`NK3&ENJ3$9t10fUjF1,(=?1,q!H1H7<P+>PW*3&!6E2D-pJ3&NTS2`!951,(FB0JP@;
/iY[H2)I!C3&2U30JPO@2DI-C2D@$K2Dm3F3$9t10fUjA1GCF@2)-sK2)-sD+>PW*3&!'C0J5=B
1H@-G1Gpp11,(FB0JY=</i5C=1b^mK1E\G,0fUjA0eb4=2)@*M2E!HP+>PW*3&!'A0J5:A1H%3K
0f_*61,(FB0JY=</i5C=1b^mK1E\G,0fUjF1,1C@2Dm<L2_d0G+>PW*3&!6F1G1XC0KD$J0JtR-
1,(FB0K(XA/iP^J0ekI?1,9t-0JPO@2DI!?2`EZM0f([C0d&5*0fUjA0Jb=?2D[*E0f_!E+>PW*
3&!'@1bL^F1c7*L1c%$41,(FB0JbC=/iPI>0fCdF2_lL20JPO@1GCa?2Dm9H2E*TS+>PW*3&!*A
1G1L@0JkIC3&;[40JPO@1GCa?2Dm<K3&`ZK3$9t10fUjC0fUd>1G^jC1H@3H+>PW*3&!6F2_I!H
1-%9M1GLg21,(FB0K(UC/iYR>2Dm9K1c?I30JPO@1,(U=3ANKJ2)@$D1E\G,0fUjA0JtIA2`E]R
2)-dC+>PW*3&!-B1G1U@1cRHM1,0n,0JPO@1,(U=3AENO0JbUH0d&5*0fUjF0K(OC0ekXE1H%*K
+>PW*3&!6G0ePCF3A`WP2`WW91,(FB0JP:=/iGLE0f:[@2BXb/0fUjA0eb4=2_d$D3&3BK+>PW*
3&!'A1bL[B0JtX@0eje+0JPO@1,(U=3A<BH1H@3K+>PW*3&!'@2(ggI1H%0I0K(X.1,(FB0JP7<
/iP[E0fCsI1bgF1-p07=0fUjA0eb4=2`WTL1cREL.l/e<0f1gK1GCLB1H@?O1,Up=BeD.`0e"Y%
4>J$8,Vh&.3&!*A1G1L@0ebC?2)cX50JPO@0ekI:1c-sD3A<631,(FB0JP7;/iP^G0JbLE1bg+.
0JPO@2DR!>3&NNJ2)[HT0d&5*0fUjF0JtIB1,q6O1c.!E+>PW*3&!6G0J5:A1c%$I3&WcG/1<V7
,VUYu-p07-2^C.40fUjC0fL^F2`!HL0JP7;+>PW*3&!6F1G1X@3A<6L1,V!51,(FB0K(XE/iGR@
0f(^C2_uR30JPO@2DR!>2`<HK0f_-K1E\G,0fUjF1,1C?2Dm3C1c73J+>PW*3&!'A1G1L?1bggD
0Jb^31,(FB0JP:</i5F?1c-sJ1H6L40JPO@1GLg@3B&`S1,(F:1E\G,0fUjF0f^jG3AWHH3AEBK
+>PW*3&!6F2_I$C0KD*I1H%071,(FB0K([@/iP[E1bh!K1c$700JPO@2DR!>3&!0F3&`iW2]sk0
0fUjF1,1C?2)m?K0ebC+1,(FB0JP:</i5FE0JkUC2)Zm7-p014/1<V7.4cl00I\P$4>8384>6 ~>
)
cocurrent 'base'  NB.{*JOD*}
puttstamps_ijod_=: (((1;'upgrade JOD')"_)`putallts__MK__JODobj)@.(3 = (4!:0)<'putallts__MK__JODobj') NB.{*JOD*}
showpass puttstamps ".".'zz_',SOLOCALE,'_' [ cocurrent 'base'  NB.{*JOD*}
".soclear NB.{*JOD*}


cocurrent 'base' NB.{*JOD*}
0 0$(4!:55);:'sonl_z_ SOLOCALE_z_ soput_z_ soclear_z_' NB.{*JOD*}
showpass 'NB. end-of-JOD-dump-file regenerate cross references with:  0 globs&> }. revo '''' ' NB.{*JOD*}
